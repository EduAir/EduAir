"use strict";function moveScroller(){var e=$("#scroller").width(),t=function(){var t=$(window).scrollTop(),n=$("#scroller-anchor").offset().top,i=$("#scroller");t>n?i.height()>$(window).height()?i.css({"position":"fixed","top":"","bottom":"0px","width":e}):i.css({"position":"fixed","top":"0px","bottom":"","width":e}):n>=t&&i.css({"position":"relative","top":"","bottom":""})};$(window).scroll(t).resize(t),t()}function sanitizeAndSplitTags(e,t){e=$.trim(e).replace(/([A-Za-z0-9])\+(?=[A-Za-z0-9])/g,"$1 ");for(var n=e.split(/[\s|,;]+/),i=[],o=0;o<n.length;o++){var a=n[o].toLowerCase();StackExchange.options.site.nonAsciiTags||(a=StackExchange.helpers.noDiacritics(a)),a=a.replace(/_/g,"-");var s="[^a-z0-9.#+"+(t?"*":"")+(StackExchange.options.site.nonAsciiTags?"0-9,A-Z,_,a-z,ª,µ,º,À-Ö,Ø-ö,ø-ˁ,ˆ-ˑ,ˠ-ˤ,ˬ,ˮ,Ͱ-ʹ,Ͷ-ͷ,ͺ-ͽ,Ά,Έ-Ί,Ό,Ύ-Ρ,Σ-ϵ,Ϸ-ҁ,Ҋ-ԣ,Ա-Ֆ,ՙ,ա-և,א-ת,װ-ײ,ء-ي,٠-٩,ٮ-ٯ,ٱ-ۓ,ە,ۥ-ۦ,ۮ-ۼ,ۿ,ܐ,ܒ-ܯ,ݍ-ޥ,ޱ,߀-ߪ,ߴ-ߵ,ߺ,ऄ-ह,ऽ,ॐ,क़-ॡ,०-९,ॱ-ॲ,ॻ-ॿ,অ-ঌ,এ-ঐ,ও-ন,প-র,ল,শ-হ,ঽ,ৎ,ড়-ঢ়,য়-ৡ,০-ৱ,ਅ-ਊ,ਏ-ਐ,ਓ-ਨ,ਪ-ਰ,ਲ-ਲ਼,ਵ-ਸ਼,ਸ-ਹ,ਖ਼-ੜ,ਫ਼,੦-੯,ੲ-ੴ,અ-ઍ,એ-ઑ,ઓ-ન,પ-ર,લ-ળ,વ-હ,ઽ,ૐ,ૠ-ૡ,૦-૯,ଅ-ଌ,ଏ-ଐ,ଓ-ନ,ପ-ର,ଲ-ଳ,ଵ-ହ,ଽ,ଡ଼-ଢ଼,ୟ-ୡ,୦-୯,ୱ,ஃ,அ-ஊ,எ-ஐ,ஒ-க,ங-ச,ஜ,ஞ-ட,ண-த,ந-ப,ம-ஹ,ௐ,௦-௯,అ-ఌ,ఎ-ఐ,ఒ-న,ప-ళ,వ-హ,ఽ,ౘ-ౙ,ౠ-ౡ,౦-౯,ಅ-ಌ,ಎ-ಐ,ಒ-ನ,ಪ-ಳ,ವ-ಹ,ಽ,ೞ,ೠ-ೡ,೦-೯,അ-ഌ,എ-ഐ,ഒ-ന,പ-ഹ,ഽ,ൠ-ൡ,൦-൯,ൺ-ൿ,අ-ඖ,ක-න,ඳ-ර,ල,ව-ෆ,ก-ะ,า-ำ,เ-ๆ,๐-๙,ກ-ຂ,ຄ,ງ-ຈ,ຊ,ຍ,ດ-ທ,ນ-ຟ,ມ-ຣ,ລ,ວ,ສ-ຫ,ອ-ະ,າ-ຳ,ຽ,ເ-ໄ,ໆ,໐-໙,ໜ-ໝ,ༀ,༠-༩,ཀ-ཇ,ཉ-ཬ,ྈ-ྋ,က-ဪ,ဿ-၉,ၐ-ၕ,ၚ-ၝ,ၡ,ၥ-ၦ,ၮ-ၰ,ၵ-ႁ,ႎ,႐-႙,Ⴀ-Ⴥ,ა-ჺ,ჼ,ᄀ-ᅙ,ᅟ-ᆢ,ᆨ-ᇹ,ሀ-ቈ,ቊ-ቍ,ቐ-ቖ,ቘ,ቚ-ቝ,በ-ኈ,ኊ-ኍ,ነ-ኰ,ኲ-ኵ,ኸ-ኾ,ዀ,ዂ-ዅ,ወ-ዖ,ዘ-ጐ,ጒ-ጕ,ጘ-ፚ,ᎀ-ᎏ,Ꭰ-Ᏼ,ᐁ-ᙬ,ᙯ-ᙶ,ᚁ-ᚚ,ᚠ-ᛪ,ᜀ-ᜌ,ᜎ-ᜑ,ᜠ-ᜱ,ᝀ-ᝑ,ᝠ-ᝬ,ᝮ-ᝰ,ក-ឳ,ៗ,ៜ,០-៩,᠐-᠙,ᠠ-ᡷ,ᢀ-ᢨ,ᢪ,ᤀ-ᤜ,᥆-ᥭ,ᥰ-ᥴ,ᦀ-ᦩ,ᧁ-ᧇ,᧐-᧙,ᨀ-ᨖ,ᬅ-ᬳ,ᭅ-ᭋ,᭐-᭙,ᮃ-ᮠ,ᮮ-᮹,ᰀ-ᰣ,᱀-᱉,ᱍ-ᱽ,ᴀ-ᶿ,Ḁ-ἕ,Ἐ-Ἕ,ἠ-ὅ,Ὀ-Ὅ,ὐ-ὗ,Ὑ,Ὓ,Ὕ,Ὗ-ώ,ᾀ-ᾴ,ᾶ-ᾼ,ι,ῂ-ῄ,ῆ-ῌ,ῐ-ΐ,ῖ-Ί,ῠ-Ῥ,ῲ-ῴ,ῶ-ῼ,‿-⁀,⁔,ⁱ,ⁿ,ₐ-ₔ,ℂ,ℇ,ℊ-ℓ,ℕ,ℙ-ℝ,ℤ,Ω,ℨ,K-ℭ,ℯ-ℹ,ℼ-ℿ,ⅅ-ⅉ,ⅎ,Ↄ-ↄ,Ⰰ-Ⱞ,ⰰ-ⱞ,Ⱡ-Ɐ,ⱱ-ⱽ,Ⲁ-ⳤ,ⴀ-ⴥ,ⴰ-ⵥ,ⵯ,ⶀ-ⶖ,ⶠ-ⶦ,ⶨ-ⶮ,ⶰ-ⶶ,ⶸ-ⶾ,ⷀ-ⷆ,ⷈ-ⷎ,ⷐ-ⷖ,ⷘ-ⷞ,ⸯ,々-〆,〱-〵,〻-〼,ぁ-ゖ,ゝ-ゟ,ァ-ヺ,ー-ヿ,ㄅ-ㄭ,ㄱ-ㆎ,ㆠ-ㆷ,ㇰ-ㇿ,㐀-䶵,一-鿃,ꀀ-ꒌ,ꔀ-ꘌ,ꘐ-ꘫ,Ꙁ-ꙟ,Ꙣ-ꙮ,ꙿ-ꚗ,ꜗ-ꜟ,Ꜣ-ꞈ,Ꞌ-ꞌ,ꟻ-ꠁ,ꠃ-ꠅ,ꠇ-ꠊ,ꠌ-ꠢ,ꡀ-ꡳ,ꢂ-ꢳ,꣐-꣙,꤀-ꤥ,ꤰ-ꥆ,ꨀ-ꨨ,ꩀ-ꩂ,ꩄ-ꩋ,꩐-꩙,가-힣,豈-鶴,侮-頻,並-龎,ﬀ-ﬆ,ﬓ-ﬗ,יִ,ײַ-ﬨ,שׁ-זּ,טּ-לּ,מּ,נּ-סּ,ףּ-פּ,צּ-ﮱ,ﯓ-ﴽ,ﵐ-ﶏ,ﶒ-ﷇ,ﷰ-ﷻ,︳-︴,﹍-﹏,ﹰ-ﹴ,ﹶ-ﻼ,０-９,Ａ-Ｚ,＿,ａ-ｚ,ｦ-ﾾ,ￂ-ￇ,ￊ-ￏ,ￒ-ￗ,ￚ-ￜ":"")+"-]";a=a.replace(new RegExp(s,"g"),""),a=a.replace(/^[#+-]+/,""),a=a.replace(/[.-]+$/,""),a.length>0&&-1==$.inArray(a,i)&&"or"!=a&&"and"!=a&&i.push(a)}return i}function initTagRenderer(e,t){window.tagRenderer||(window.tagRendererRaw=function(n,i,o){i=i||"",o=o||"a";var a="";i||(e&&$.inArray(n,e)>-1?a="required-tag":t&&$.inArray(n,t)>-1&&(a="moderator-tag"));var s=$("<"+o+">").addClass("post-tag").addClass(a).text(n);return"a"===o.toLowerCase()&&s.attr({"rel":"tag","href":i+"/questions/tagged/"+encodeURIComponent(n),"title":function(e){return"show questions tagged '"+e.tag+"'"}({"tag":n})}),s.outerHTML()},window.tagRenderer=function(e,t,n){return $(tagRendererRaw(e,t,n))})}function showFadingHelpText(e){e.wrap('<div class="dno" />').show().parent().fadeIn("slow",function(){$(this).children().unwrap()})}function initFadingHelpText(){var e={"wmd-input":"#how-to-format","tagnames":"#how-to-tag","tag-editor":"#how-to-tag","title":"#how-to-title","wmd-input-42":"#how-to-format"},t=$("#wmd-input, #tagnames, #title, .tag-editor input, #wmd-input-42"),n=function(t){var n=$(t);return n.parent().hasClass("tag-editor")?e["tag-editor"]:e[$(t).attr("id")]};t.focus(function(){var e=n(this);t.each(function(){var t=n(this);t!=e&&$(t).hide()});var i=$(e);i.is(":visible")||showFadingHelpText(i)})}!function(e){function t(){}function n(e,t){if(a)return t.indexOf(e);for(var n=t.length;n--;)if(t[n]===e)return n;return-1}var i=t.prototype,o=[],a=o.indexOf?!0:!1;i.getListeners=function(e){var t=this._events||(this._events={});return t[e]||(t[e]=[])},i.addListener=function(e,t){var i=this.getListeners(e);return-1===n(t,i)&&i.push(t),this},i.removeListener=function(e,t){var i=this.getListeners(e),o=n(t,i);return-1!==o&&(i.splice(o,1),0===i.length&&(this._events[e]=null)),this},i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var i,o,a=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"==typeof t)for(i in t)t.hasOwnProperty(i)&&(o=t[i])&&("function"==typeof o?a.call(this,i,o):s.call(this,i,o));else for(i=n.length;i--;)a.call(this,t,n[i]);return this},i.removeEvent=function(e){return e?this._events[e]=null:this._events=null,this},i.emitEvent=function(e,t){for(var n=this.getListeners(e),i=n.length;i--;)n[i].apply(null,t||o)===!0&&this.removeListener(e,n[i]);return this},"function"==typeof define&&define.amd?define(function(){return t}):e.EventEmitter=t}(this),StackExchange.realtime=function(){function e(e){var o=e.split(","),a=o.length,s=_%a,r=o[s];if(null!=r&&0!=r.indexOf("ws://")&&0!=r.indexOf("wss://")&&(r=("https:"===document.location.protocol?"wss://":"ws://")+r),"WebSocket"in window||"MozWebSocket"in window){if(q)try{n("closing WebSocket"),q.close()}catch(c){}q||(n("opening WebSocket to: "+r),q="WebSocket"in window?new WebSocket(r):new MozWebSocket(r),q.onopen=function(){R||(R=!0),_=0,n("WebSocket opened"),t(),i(),setInterval(P,6e4)},q.onmessage=function(e){var t=$.parseJSON(e.data);B.emitEvent(t.action,[t.data])},q.onclose=function(){q=null,n("WebSocket closed"),5>_&&j>0&&(_++,j--,n("reconnect attempt:"+_+" max retries:"+j),setTimeout(function(){StackExchange.realtime.init(e)},(new Date).getTime()%50/20*1e3))},q.onerror=function(){n("WebSocket failed"),q=null})}}function t(){if(null!=q&&1==q.readyState)for(var e=0,t=N.length;t>e;e++)n("sending "+N[e]),q.send(N[e])}function n(e){StackExchange.options.enableLogging&&console.log("realtime: "+e)}function i(){B.addListener("hb",function(e){q.send(e)})}function o(e){N.push(e),t()}function a(e){n("unsubscribing "+e);var t=$.inArray(e,N);-1!=t&&(N.splice(t,1),null!=q&&1==q.readyState&&q.send("-"+e))}function s(e,t){var n=e+"-question-"+t;a(n)}function r(e,t){var n=e+"-question-"+t;o(n),B.addListener(n,function(e){var t=$.parseJSON(e);if(t.acctid!=StackExchange.options.user.accountId)switch(t.a){case"score":m(t);break;case"comment-add":l(t);break;case"answer-add":k(t);break;case"accept":c(t);break;case"unaccept":c(t,!0);break;case"post-edit":S(t)}})}function c(e,t){1!=$("#vote-accepted-"+e.answerid).length&&($(".vote-accepted-on").remove(),t||$('.vote input[value="'+e.answerid+'"]').parent().append($("<span>",{"class":"vote-accepted-on","title":"The question owner accepted this as the best answer","text":"accepted"})))}function l(e){if(0==$("#comment-"+e.commentid).length){var t=$("#comments-link-"+e.id),n=$("tbody","#comments-"+e.id),i=n.data("remaining-comments-count")||0,o=!(t.data("anon")||t.data("reg"));i++,t.data("comments-count",i),t.attr("title","expand to show all comments on this post, or add one of your own");var a=function(e){return 1==e.commentsCount?"add / show <b>"+e.commentsCount+"</b> more comment":"add / show <b>"+e.commentsCount+"</b> more comments"}({"commentsCount":i}),s=function(e){return 1==e.commentsCount?"show <b>"+e.commentsCount+"</b> more comment":"show <b>"+e.commentsCount+"</b> more comments"}({"commentsCount":i});t.removeClass("disabled-link"),n.data("remaining-comments-count",i),o?t.html(a):t.html(s),t.show().fadeTo("fast",.7).fadeTo("fast",1)}}function u(e,t,n,i,a,s,r){var c=e+"-"+t;L=n,U=s,o(c),B.addListener(c,function(e){var n=$.parseJSON(e);if(null!=a)for(var o=0;o<a.length;o++)if(-1==$.inArray(a[o],n.tags))return;C(n,i,t),null!=r&&r(n)})}function d(e){var t=e+"-review-dashboard-update";o(t),B.addListener(t,function(e){var t=$.parseJSON(e),n=$('.dashboard-activity[data-review-task="'+t.i+'"]');0==n.find('.dashboard-user[data-user="'+t.u+'"]').length&&(n.find(".dashboard-user:nth-child(6)").remove(),n.css("overflow","hidden"),n.children().css({"left":"-44px"}),n.prepend(t.html).children().animate({"left":0},function(){n.css("overflow","visible")}))})}function h(){if(null!=StackExchange.options.user.accountId){var e=StackExchange.options.user.accountId+"-topbar";o(e),B.addListener(e,function(e){StackExchange.topbar.handleRealtimeMessage(e)})}}function p(){if(null!=StackExchange.options.user.accountId){var e=StackExchange.options.user.accountId+"-inbox";o(e),B.addListener(e,function(e){x(e)})}}function f(e){if(null!=StackExchange.options.user.accountId){var t=e+"-"+StackExchange.options.user.userId+"-reputation";o(t),B.addListener(t,function(e){v(e)})}}function g(e){var t=e+"-suggested-edits-count-update";o(t),B.addListener(t,function(){b()})}function m(e){var t=$('.vote input[value="'+e.id+'"]').siblings(".vote-count-post");t.text()!=e.score&&(t.text(e.score),0==$(":animated").length&&t.fadeTo("fast",.7).fadeTo("fast",1),StackExchange.question.canViewVoteCounts()&&StackExchange.vote.bindFetchVoteCounts())}function v(e){var t=$("#hlinks .reputation-score, .links-container .reputation");t.text()!=e.score&&(0==$(":animated").length&&t.fadeTo("fast",.8).fadeTo("fast",1),t.text(e).attr("title",function(e){return"your reputation: "+e.reputation}({"reputation":e})),t.trigger("reputationchange"))}function b(){$.ajax({"type":"POST","url":"/review/suggested-edit-count","data":{"fkey":StackExchange.options.user.fkey},"dataType":"json","success":function(e){e&&e.count&&w(e.count)}})}function w(e){var t=$(".suggested-edits-count");t.text()!=e&&(0==$(":animated").length&&t.fadeTo("fast",.5).fadeTo("fast",1),t.text(e))}function x(e){$(".unreadCount").remove();var t=$("<a>",{"class":"unreadCount","title":"unread messages in your inbox","text":e}).insertAfter(".genu");$("#portalLink .unreadCount").css({"marginTop":t.css("margin-top"),"opacity":1},2e3),genuwine.setUnreadCount(e)}function k(e){if(0==$("#answer-"+e.answerid).length&&(D.push(e.answerid),StackExchange.cardiologist)){if(StackExchange.cardiologist.isHeartBeating()){var t=StackExchange.helpers.DelayedReaction(y,5e3);t.trigger()}else y();StackExchange.cardiologist.notifiedOfNewAnswer()}}function y(){$("#new-answer-activity").remove(),$("#answers-header").prepend(H)}function S(e){var t=$(".question[data-questionid="+e.id+"], .answer[data-answerid="+e.id+"]"),n=$('<div class="new-post-activity" data-postid="'+e.id+'">an edit has been made to this post; click to load</div>');t.find(".new-post-activity[data-postid="+e.id+"]").length>0||t.prepend(n.click(function(){$(".new-post-activity[data-postid="+e.id+"]").remove(),0==$("#review-content").length&&$.get("/posts/ajax-load-realtime/{postIdsSemiColonDelimited}?title=true".formatUnicorn({"postIdsSemiColonDelimited":e.id}),z(t.find(".postcell, .answercell"),e)),$(document).trigger("refreshEdit",e.id)}))}function E(){$("#tabs").show(),$("#new-answer-activity").remove();var e=$("#answers #answers-header"),t=e.find(".answers-subheader h2"),n=parseInt(t.text())+D.length;isNaN(n)&&(n=D.length),t.text(function(e){return 1==e.answerCount?e.answerCount+" Answer":e.answerCount+" Answers"}({"answerCount":n})),$.ajax({"url":"/posts/ajax-load-realtime/{postIdsSemiColonDelimited}".formatUnicorn({"postIdsSemiColonDelimited":D.join(";")})}).done(function(t){var n=$('<div class="dno" />').append(t);n.insertAfter(e).fadeIn(400,function(){n.removeClass("dno"),styleCode(),StackExchange.vote.init($(".question").data("questionid")),n.find(".answer").each(function(){StackExchange.comments.init({"post":$(this)})})})}),StackExchange.question.bindSuggestedEditPopupLinks(),P(),D=[]}function C(e,t,n){null!=StackExchange.options.user.accountId&&StackExchange.tagPreferences.isIgnored(e.body)||(e.fetch&&$.ajax({"url":"/posts/"+e.id+"/"+n}).done(function(t){e.body=t,O[e.id]={"id":e.id,"body":e.body,"index":(new Date).getTime(),"siteid":e.siteid}}),O[e.id]={"id":e.id,"body":e.body,"index":(new Date).getTime(),"siteid":e.siteid},$(".new-post-activity").remove(),$("#question-mini-list, #questions").prepend(F),$(".tag-sponsorship").length>0&&$("#question-mini-list, #questions").css("margin-top","0px"),t&&I())}function T(e,t){return e.index<t.index?-1:e.index>t.index?1:0}function I(){var e=[];for(var t in O)O.hasOwnProperty(t)&&e.push(O[t]);for(var n=e.sort(T),i=0;i<n.length;i++){var o=n[i];$("#question-summary-"+o.id).remove(),$(o.body).prependTo("#question-mini-list, #questions").hide().fadeIn()}M(0),null!=StackExchange.options.user.accountId&&StackExchange.tagPreferences.applyPrefs(!0,L),styleCode(),P(),$(".new-post-activity").remove(),O={}}function M(e){var t=document.title.replace(/^\(\d*\*?\) /,"");e>0&&(t="("+e+") "+t),window.setTimeout(function(){$(document).attr("title",t)},200)}function P(){for(var e=$("span.relativetime, span.relativetime-clean"),t=0;t<e.length;t++)if(e[t].title){var n=A(e[t].title);n&&(e[t].innerHTML=n)}}function A(e){if(null!=e&&20==e.length){e=e.substr(0,10)+"T"+e.substr(11,10);var t=new Date(e),n=((new Date).getTime()-t.getTime())/1e3+StackExchange.options.serverTimeOffsetSec,i=Math.floor(n/86400);if(!(isNaN(i)||0>i||i>=31))return 0==i&&(2>n&&"just now"||60>n&&(U?function(e){return e.seconds+"s ago"}({"seconds":Math.floor(n)}):function(e){return e.seconds+" secs ago"}({"seconds":Math.floor(n)}))||120>n&&(U?"1m ago":"1 min ago")||3600>n&&(U?function(e){return e.minutes+"m ago"}({"minutes":Math.floor(n/60)}):function(e){return e.minutes+" mins ago"}({"minutes":Math.floor(n/60)}))||7200>n&&(U?"1h ago":"1 hour ago")||86400>n&&(U?function(e){return 1==e.hours,e.hours+"h ago"}({"hours":Math.floor(n/3600)}):function(e){return 1==e.hours?e.hours+" hour ago":e.hours+" hours ago"}({"hours":Math.floor(n/3600)})))}}var q,L,O={},D=[],_=0,N=[],j=10,R=!1,U=!1,B=new EventEmitter,H=function(){var e=Object.keys(D).length;return 0==e&&$("#new-answer-activity").remove(),$('<div id="new-answer-activity">'+function(e){return 1==e.count?e.count+" new answer to this question":e.count+" new answers to this question"}({"count":e})+"</div>").click(function(){StackExchange.realtime.expandAnswers()})},z=function(e,t){return function(n){var i=$(n).filter(".question, .answer"),o=i.find(".postcell, .answercell"),a=e.closest(".question"),s=a.length>0,r=$("h1 a.question-hyperlink"),c=i.data("title"),l=s&&$.trim(r.text())!=c,u=$(".question-status"),d=150,h=function(e,t){return function(){return $.Deferred(function(n){null==t||t()?e.animate({"opacity":0},d).promise().done(function(){n.resolve()}):n.resolve()})}},p=h(r,function(){return l}),f=h(e),g=h(u);$.when(p(),f(),g()).done(function(){l&&r.text(c).animate({"opacity":1},d);var t=function(e,t){return new $.Deferred(function(n){t.css({"opacity":0}),e.replaceWith(t),t.animate({"opacity":1},d,function(){n.resolve()})})};t(e,o).done(function(){styleCode(),StackExchange.question.bindSuggestedEditPopupLinks(),s&&StackExchange.inlineTagEditing&&StackExchange.inlineTagEditing.init()});var i=$(n).filter(".question-status");i.length?(u.length||(u=$("<div>").addClass("question-status").insertAfter(a)),t(u,i)):u.remove()}),window.history.pushState(t,"new post","#"+t.id)}},F=function(){var e=Object.keys(O).length;return M(e),$('<div class="new-post-activity">'+function(e){return 1==e.count?e.count+" question with new activity":e.count+" questions with new activity"}({"count":e})+"</div>").click(function(){StackExchange.realtime.expandActiveQuestions()})};return{"init":e,"expandActiveQuestions":I,"expandAnswers":E,"subscribeToActiveQuestions":u,"subscribeToInboxNotifications":p,"subscribeToQuestion":r,"unsubscribeToQuestion":s,"subscribeToReputationNotifications":f,"subscribeToSuggestedEdits":g,"updateRelativeDates":P,"subscribeToReviewDashboard":d,"subscribeToTopBarNotifications":h}}(),StackExchange.anonymous={};var gauth=function(){return{"informStackAuth":function(e){if(gauth.enabled()){var t=document.domain;"meta."==t.substr(0,5)&&(t=t.substr(4,t.length-4));var n=$.cookie("gauth");if(null==n)return $.cookie("gauth",null,{"path":"/","domain":t}),$.cookie("gauth",null,{"path":"/","domain":document.domain}),void 0;"."!=t.charAt(0)&&(t="."+t),$.cookie("gauth",null,{"path":"/","domain":t}),$.cookie("gauth",null,{"path":"/","domain":document.domain});var i=n.indexOf(":"),o=n.substr(0,i),a=n.substr(i+1),s=e+"/auth/global/write?authToken="+encodeURIComponent(o)+"&nonce="+encodeURIComponent(a);$(document).ready(function(){$("#footer").append("<iframe style='display:none' src='"+s+"'></iframe>")})}},"checkStackAuth":function(e){if(gauth.enabled()){var t=$.cookie("gauthed");if(null==t){$.cookie("gauthed","1",{"path":"/"});var n=function(t){var n=t.origin;if(n==e){if("No Local Storage"==t.data)return gauth.noGAuthStorage(),void 0;if("No Session"==t.data)return gauth.noGAuthSession(),void 0;var i=t.data.substr(0,t.data.indexOf(",")),o=t.data.substr(t.data.indexOf(",")+1);$.post("/users/login/global",{"authToken":i,"nonce":o},function(e){gauth.globallyAuthed(e)},"json")}};window.attachEvent?window.attachEvent("onmessage",n):window.addEventListener("message",n,!1),$.post("/users/login/global/request","",function(t){var n=e+"/auth/global/read?request="+encodeURIComponent(t.token)+"&nonce="+encodeURIComponent(t.nonce);$(document).ready(function(){$("#footer").append("<iframe id='global-auth-frame' style='display:none' src='"+n+"'></iframe>")})},"json")}}},"enabled":function(){return $.cookie("enabledCheck","1"),null==$.cookie("enabledCheck")?!1:($.cookie("enabledCheck",null),"undefined"==typeof localStorage?!1:!0)},"noGAuthStorage":function(){},"noGAuthSession":function(){},"globallyAuthed":function(e){if(e&&e.Message){var t=e.Message;e.MessageType&&"WelcomeBack"===e.MessageType&&(t=function(e){return"Welcome back "+e.userLink+", you've been logged in."}({"userLink":e.UserLink}));var n,i=t+" ",o=!1,a=""+window.location,s=a.indexOf("returnurl=");if(-1!=s){var r=a.indexOf("&",s);-1==r&&(r=a.length),n=decodeURIComponent(a.substring(s+"returnurl=".length,r)),n=/^(?:http:\/\/|\/)/.test(n)?n.replace(/[^-a-z0-9+&@#\/%?=~_|!:,.;()]/g,""):null}-1!=a.indexOf("/users/login")&&(o=!0,n=n||"/"),i+=o?"<br>You are being redirected...":n?function(e){return'<a href="'+e.url+'">Click here</a> to return to your last location.'}({"url":"javascript:window.location='"+n+"'"}):function(e){return'<a href="'+e.url+'">Click here</a> to refresh the page.'}({"url":"javascript:location.reload(true)"}),StackExchange.helpers.showFancyOverlay({"message":i,"showClose":!o,"complete":function(){o&&(window.location=n)}})}}}}(),genuwine=function(){var e,t,n,i="",o=[],a=function(){return $(".genu").hasClass("genu-on")},s=function(){var e=$(".genu"),i=$("#seWrapper");if(0==i.length||t>0||n){c(),i=$("#seWrapper");var a;t>0?(a=$("#seTabInbox"),w(a)):n?(a=$("#seTabNotices"),u(a)):(a=$("#seTabHot"),f(a)),a.addClass("seCurrent")}var l=e.hasClass("genu-on");if(l){$(".unreadCountTab").remove(),$("#portalLink .itemBoxNew").removeClass("itemBoxNew"),i.fadeOut("fast");for(var d=0;d<o.length;d++)o[d]();o=[],n>0&&$("#portalLink .unreadCount").text(""+n).addClass("newNotices").show().click(s)}else i.fadeIn("fast"),$("#portalLink .unreadCount").hide();e.toggleClass("genu-on",!l),-1==t&&$(e).ready(function(){$("#seTabInbox").hide()}),r($("#seTabInbox"),$("#seTabNotices"))},r=function(e,i){StackExchange.options.site.isNoticesTabEnabled&&n&&0==i.find(".unreadCountTab").length&&i.prepend('<span class="unreadCountTab newNotices">'+n+"</span>"),t>0&&0==e.find(".unreadCountTab").length&&e.prepend('<span class="unreadCountTab">'+t+"</span>")},c=function(){$("#seWrapper").remove();var e='<div id="seWrapper" class="seWrapper" style="position:absolute; display:none;"><div class="seIntro"><a href="'+i+'">Stack Exchange</a> is a network of free, community-driven Q&A sites.</div><div class="seNav"><ul class="seNavLinks"><li><a id="seTabHot">Hot Questions</a></li><li><a id="seTabSites">All Sites</a></li>'+(StackExchange.options.user.isAnonymous?"":'<li><a id="seTabInbox">Inbox</a></li>')+(!StackExchange.options.user.isAnonymous&&StackExchange.options.site.isNoticesTabEnabled?'<li><a id="seTabNotices">Notifications</a></li>':"")+'</ul></div><div class="seContainer"></div><div class="seFooter"><a id="seClose">close</a></div></div>',t=$("#hlinks"),n=t.height()+t.offset().top+5;$(e).appendTo("#portalLink").css({"top":n}).find("ul.seNavLinks a").click(function(){l($(this))}),$("#seClose").click(function(){s()})},l=function(e){switch($(".seNavLinks a").removeClass("seCurrent"),e.addClass("seCurrent"),e.attr("id")){case"seTabHot":f(e),$("#seContainerSites, #seContainerInbox, #seContainerEmail, #seContainerNotices").hide(),$("#seContainerHot").fadeIn("fast");break;case"seTabSites":v(e),$("#seContainerHot, #seContainerInbox, #seContainerEmail, #seContainerNotices").hide(),$("#seContainerSites").fadeIn("fast");break;case"seTabInbox":w(e),$("#seContainerHot, #seContainerSites, #seContainerEmail, #seContainerNotices").hide(),$("#seContainerInbox").fadeIn("fast");break;case"seTabNotices":u(e),$("#seContainerHot, #seContainerSites, #seContainerInbox, #seContainerEmail").hide(),$("#seContainerNotices").fadeIn("fast")}},u=function(e){0==$("#seContainerNotices").length&&d(e)},d=function(e){S(e,"/notices/genuwine","json",h,!0)},h=function(e,t){for(var i='<div id="seContainerNotices" style="display:none">',a=0;a<t.length;a++){var s=t[a],c=s.text,l=s.is_unread,u=(s.created,s.site_url),d=s.icon,h=s.hasOwnProperty("type")?' data-type="'+s.type.toString()+'"':"";null!=s.switch_type&&(h=h+' data-sw-type="'+s.switch_type.toString()+'" data-sw-site="'+s.site_id.toString()+'"'),i+='<div class="noticeBox'+(l?" itemBoxNew":"")+'"'+h+'><a href="'+u+'" class="siteLinkFavicon"><img src="'+d+'"></a><div class="siteInfo"><p>'+c+"</p></div></div>"}i+="</div>",E(e,i,"notifications_popup.click"),o.push(function(){n=0,r($("#seTabInbox"),$("#seTabNotices"))}),n=0},p=function(t){var n=document.location.host;S(t,i+"/genuwine/sites?callback=?&host="+n+(e?"&accountId="+e:""),"jsonp",b)},f=function(e){0==$("#seContainerHot").length&&g(e)},g=function(e){S(e,i+"/genuwine?callback=?","jsonp",m)},m=function(e,t){for(var n=$("<div/>"),i='<div id="seContainerHot" style="display:none">',o=0;o<t.length;o++){var a=t[o],s=a.SiteId,r='href="http://'+s+"/q/"+a.Id+'?hq=1"',c=parseInt(a.DisplayScore,10);i+='<div class="itemBox" data-sw-type="2" data-sw-name="'+s+'"><a '+r+' class="seNumAnswer">'+c+'</a><div class="siteInfo"><p><a '+r+">"+n.text(a.Title).html()+'</a></p><a href="http://'+s+'" class="siteLink">'+s+"</a></div></div>"}i+="</div>",E(e,i)},v=function(e){0==$("#seContainerSites").length&&p(e)},p=function(t){var n=document.location.host;S(t,i+"/genuwine/sites?callback=?&host="+n+(e?"&accountId="+e:""),"jsonp",b)},b=function(e,t){for(var n='<div id="seContainerSites" style="display:none">',i=0;i<t.length;i++){var o=t[i],a=o.Name,s='href="http://'+o.Id+'?as=1"';n+='<div class="itemBox" data-sw-type="3" data-sw-name="'+o.Id+'"><a '+s+' class="siteFavicon"><img src="'+o.FaviconUrl+'" alt="'+a+'"></a><div class="siteInfo"><p><a '+s+">"+a+"</a></p><a "+s+' class="siteLink">'+o.Description+"</a></div></div>"}n+="</div>",E(e,n)},w=function(e){-1!=t&&(0==$("#seContainerInbox").length||t>0)&&x(e)},x=function(e){S(e,"/inbox/genuwine","json",k,!0)},k=function(n,i){for(var a='<div id="seContainerInbox" style="display:none">',s=0;s<i.length;s++){var c=i[s],l='href="'+c.Url+'"',u='title="'+c.CreationDate+'"',d=c.Count,h=c.IsNew?" itemBoxNew":"",p=c.hasOwnProperty("ItemType")?' data-type="'+c.ItemType.toString()+'"':"";if(null!=c.SiteId&&(p=p+' data-sw-type="7" data-sw-site="'+c.SiteId.toString()+'"'),a+='<div class="itemBox'+h+'"'+p+"><a "+l+' class="siteLinkFavicon"><img src="'+c.FaviconUrl+'" alt="'+c.SiteUrl+'"></a><div class="siteInfo">',"careers message"==c.Type)a+="<p><a "+l+' style="font-weight:normal"><b>'+c.Title+"</b> wants to contact you on <b>Stack Overflow Careers</b></a></p>";else if("invitation"==c.Type){var f=c.Count,g="invitation"+(f>1?"s":"");a+="<p><a "+l+' style="font-weight:normal"><b>'+f+"</b> "+g+" awarded on <b>Stack Overflow Careers</b></a></p>"}else a+="<p>"+(d>1?d+" ":"")+c.Type+" on <a "+l+" "+u+">"+c.Title+"</a></p>";a+='<p class="inboxSummary">'+(c.Summary||"")+"</p></div></div>"}e&&i.length>=5&&(a+='<div class="itemMoreContainer"><div class="seIntro"><a href="http://stackexchange.com/users/'+e+'?tab=inbox">more inbox messages &hellip;</a></div></div>'),a+="</div>",E(n,a,"inbox_popup.click"),o.push(function(){t=0,r($("#seTabInbox"),$("#seTabNotices"))}),t=0},y={},S=function(e,t,n,i,o){var a=e.attr("id");if(y[a])return C(),void 0;y[a]=!0,C();var s=function(){y[a]=!1,StackExchange.helpers.showErrorMessage($("#seWrapper .seContainer"),"An error occurred while loading - please try again.")};$.ajax({"type":"GET","url":t,"dataType":n,"success":function(t){y[a]=!1,t&&(t.length>0||o)?i(e,t):s()},"error":s,"complete":function(){$("#seWrapper .seContainer").removeSpinner()}})},E=function(e,t,n){var i=$(t);i.prependTo("#seWrapper .seContainer"),i.find(".itemBox a, .noticeBox a").click(function(){var e=$(this).closest(".itemBox, .noticeBox");n&&n.length&&StackExchange.gps.track(n,{"item_type":e.data("type")});var t=e.data("sw-type"),i=e.data("sw-site"),o=e.data("sw-name");null==t||null==i&&null==o||StackExchange.gps.track("site.switch",i?{"item_type":t,"target_site":i}:{"item_type":t,"target_name":o})}),e.hasClass("seCurrent")&&i.fadeIn("fast")},C=function(){StackExchange.helpers.removeSpinner(),StackExchange.helpers.addSpinner("#seWrapper .seContainer",{"position":"relative","left":"10px","top":"10px"})},T=function(){var e=$("#portalLink .unreadCount"),t=e.css("margin-top");e.css({"marginTop":-20,"opacity":0}).show().animate({"marginTop":t,"opacity":1},2e3)},I=function(e){t=e;var n=$("#seTabInbox");e>0?($("#portalLink .unreadCount").text(t),n.hasClass("seCurrent")&&a()&&x(n),T()):$("#portalLink .unreadCount").text("").hide(),$("#portalLink .unreadCount").removeClass("newNotices"),P()},M=function(e){n=e,t>0||!StackExchange.options.site.isNoticesTabEnabled||(n>99&&(n=99),n>0&&$("#portalLink .unreadCount").text(""+n).addClass("newNotices"),P())},P=function(){var e=$("#portalLink .unreadCount"),t=e.data("events");t&&t.click||e.length>0&&e.click(s)};return{"isVisible":a,"click":s,"setUnreadCount":I,"animateInbox":T,"init":function(n,o,r){var c=$(".genu");c.length>=1&&(c[0].onclick=null),e=n,i=c.attr("href"),t=o,M(r),c.removeAttr("href").click(s),P(),$(document).click(function(e){a()&&!$.contains($("#portalLink")[0],e.target)&&s()})}}}();StackExchange.topbar=function(){function e(e){StackExchange.options.enableLogging&&console.log("topbar: "+e)}function t(e){for(var t=0;t<m.length;t++){var n=m[t].$button;if(n&&n[0]==e)return!0}return!1}function n(){for(var e=0;e<m.length;e++)m[e].toggle(!1)}function i(t){var n;if(t&&(n=JSON.parse(t))){e("realtime message - "+t);for(var i in n)for(var o=0;o<m.length;o++)if(i==m[o].name){m[o].handleRealtimeMessage(n[i]);break}}}var o=klass({"name":"","url":"","cssClass":"","button":null,"$dialog":null,"$loadingPlaceholder":null,"$preloadedDialog":null,"hasRead":!1}).statics({"$corral":$(".js-topbar-dialog-corral")}).methods({"isLoading":function(){return null!=this.$loadingPlaceholder},"isLoaded":function(){return null!=this.$dialog},"isVisible":function(){var e=this.$dialog||this.$loadingPlaceholder;return null!=e&&e.is(":visible")},"toggle":function(e,t){if("boolean"!=typeof e)throw new Error("showOrHide is a required parameter");if(!e){if(this.isLoading())return this.showOrHide(!1),void 0;if(!this.isLoaded())return}if(this.isLoaded()||this.isLoading()?(e||t||!this.hasRead||this.markAsRead(),this.showOrHide(e)):this.$preloadedDialog?this.loadChildContent():this.loadDialog(),e)for(var n=0;n<m.length;n++)this.button!=m[n]&&m[n].toggle(!1,t)},"showOrHide":function(e){var t=this.$dialog||this.$loadingPlaceholder;t&&t.toggle(e),e&&this.$dialog&&(this.hasRead=!0)},"loadChildContent":function(){var e=this.$preloadedDialog.find(".child-content");if(this.$dialog=this.$preloadedDialog,this.positionDialogUnderButton(),this.showOrHide(!0),this.url){$("<div>",{"class":"child-content-loading"}).addSpinner().appendTo(e);var t=this;this.fetchUrl().done(function(n){e.html(n),t.afterLoad()})}},"loadDialog":function(){if(!this.isLoading()){this.$loadingPlaceholder=this.getLoadingPlaceholder().appendTo(o.$corral),this.positionDialogUnderButton(),this.showOrHide(!0);var e=this;this.fetchUrl().done(function(t){e.$dialog=$(t).appendTo(o.$corral),e.afterLoad();var n=e.$loadingPlaceholder.is(":visible");e.positionDialogUnderButton(),e.showOrHide(n)}).always(function(){e.$loadingPlaceholder.remove(),e.$loadingPlaceholder=null})}},"afterLoad":function(){this.$dialog.find(".js-close-button").click(function(){StackExchange.topbar.hideAll()}),StackExchange.gps.bindTrackClicks(this.$dialog)},"getLoadingPlaceholder":function(){var e=$("<div/>").append(StackExchange.helpers.getSpinnerImg()).html(),t=['<div class="topbar-dialog ',this.cssClass,' dno">','<div class="header">',e,"</div>",'<div class="modal-content"/>',"</div>"];return $(t.join(""))},"positionDialogUnderButton":function(){var e=this.button.$button.outerHeight(),t=this.button.$button.offset().left-m[0].$button.offset().left;(this.$dialog||this.$loadingPlaceholder).css({"top":e,"left":t})},"fetchUrl":function(){e("fetching "+this.url);var t=$.ajax({"type":"GET","url":this.url,"dataType":"html"});return t},"markAsRead":function(){this.button.markAsRead(),this.isLoaded()&&this.$dialog.find(".unread-item").removeClass("unread-item")},"handleRealtimeMessage":function(){this.clearLoadedDialog()},"clearLoadedDialog":function(){this.isLoaded()&&(this.$dialog.remove(),this.$dialog=null,this.hasRead=!1)}}),a=klass({"name":"","selector":"","dialog":null,"$button":null,"onClass":"","unreadCountPrefix":"","queuedUnreadCount":0,"showsOnMouseOver":!1}).methods({"initialize":function(){this.dialog.name=name,this.dialog.button=this,v.push(this.dialog);var e=this;this.$button=$(this.selector),this.$button.click(function(){return e.toggle(),!1}),this.showsOnMouseOver&&this.$button.mouseover(function(){e.showOnMouseOver()}),this.onClass="topbar-icon-on"+(this.onClass?" ":"")+this.onClass},"toggle":function(e,t){e="boolean"==typeof e?e:!this.$button.hasClass(this.onClass),this.$button.toggleClass(this.onClass,e),this.dialog.toggle(e,t)},"showOnMouseOver":function(){for(var e=!1,t=0;t<m.length;t++){var n=m[t];if(n!=this&&n.showsOnMouseOver&&n.isOn()){e=!0;break}}e&&this.toggle(!0,!0)},"isOn":function(){return this.$button.hasClass(this.onClass)},"markAsRead":function(){this.$button.find(".unread-count").fadeOut();var e=this.$button.data("unread-class");e&&this.$button.removeClass(e),this.dequeuePendingUnreadCount()},"dequeuePendingUnreadCount":function(){this.queuedUnreadCount&&(this.setUnreadCount(this.queuedUnreadCount),this.queuedUnreadCount=0,this.dialog.clearLoadedDialog())},"setUnreadCount":function(e){if(void 0===e);else if(0>=e)this.queuedUnreadCount=0,this.isOn()||this.markAsRead();else if(e>0)if(this.isOn())this.queuedUnreadCount=e;else{var t=this.$button.find(".unread-count");t.text(this.unreadCountPrefix+e).fadeIn(),this.addUnreadClass(),this.dialog.clearLoadedDialog()}},"addUnreadClass":function(){var e=this.$button.data("unread-class");e&&this.$button.addClass(e)},"handleRealtimeMessage":function(){}}),s=o.extend({"url":"/topbar/site-switcher/site-list","cssClass":"siteSwitcher-dialog","$searchItems":null,"$pinnedSiteSearchItems":null,"isPreloaded":!0,"$preloadedDialog":o.$corral.find(".siteSwitcher-dialog")}).methods({"afterLoad":function(){this.$dialog.find("#js-site-filter-txt").typeWatch({"highlight":!1,"wait":250,"captureLength":-1,"callback":$.proxy(this.filterSites,this)}),this.$searchItems=this.$dialog.find(".js-other-sites li").clone().map(function(){return{"title":$(".site-icon",this).attr("title").toLowerCase(),"description":$(".site-desc",this).text().toLowerCase(),"hostname":$("a",this).first().attr("href"),"li":this}});var e=this.$dialog;this.$dialog.find("#js-site-filter-txt").focus(function(){var t=e.offset().top+e.height(),n=e.find(".other-sites li:nth-child(2)"),i=n.offset().top+n.height();i>t&&e.animate({"scrollTop":e.scrollTop()+i-t},750)}),!StackExchange.options.user.isAnonymous&&$(".pinned-site-editor-container").length&&($(".js-found-sites").css({"width":$("#js-site-search-txt").outerWidth()}),$(".js-found-sites").hide(),this.$dialog.find("#js-site-search-txt").typeWatch({"highlight":!1,"wait":100,"captureLength":-1,"callback":$.proxy(this.findSitesToPin,this)}),this.$dialog.find("#edit-pinned-sites").click($.proxy(this.editPinnedSites,this)),this.$dialog.find("#cancel-pinned-sites").click({"forceListRefresh":$("#save-pinned-sites-btn").is(":enabled")},this.cancelSiteListEdits),this.$dialog.find("#pin-site-btn").click($.proxy(this.pinSite,this)),this.$dialog.on("click",".remove-pinned-site-link",function(){return $(this).parent().remove(),$("#save-pinned-sites-btn").enable(),$("#reset-pinned-sites").show(),!1
}),this.$dialog.find("#save-pinned-sites-btn").click($.proxy(this.savePinnedSites,this)),this.$dialog.find("#reset-pinned-sites").click($.proxy(this.resetPinnedSites,this))),this.supr()},"showOrHide":function(e){this.supr(e)},"pinSite":function(){$("#pin-site-btn").disable();var e=$("#js-site-search-txt").val(),t=$.grep(this.$pinnedSiteSearchItems,function(t){return t.sitename===e});if(!t.length)return $("#pin-site-btn").enable(),void 0;var n=t[0],i=$(".pinned-site-link").map(function(e,t){return $(t).data("id")}).toArray();if(i.indexOf(n.siteid)>-1)return $("#pin-site-btn").enable(),void 0;var o=this;$.ajax({"type":"GET","url":"/topbar/site-switcher/pin-site","data":{"siteId":n.siteid},"dataType":"html"}).done(function(e){var t=$(e);t.hide(),$(".pinned-site-list").append(t),t.fadeIn("slow"),$("#js-site-search-txt").val(""),$("#save-pinned-sites-btn").enable(),o.toggleSiteListResetLink(!0)}).fail(function(){$("#pin-site-btn").parent().showErrorMessage("Something bad happened; please try again"),$("#pin-site-btn").enable()})},"savePinnedSites":function(){var e=$(".pinned-site-list li .pinned-site-link").map(function(e,t){return $(t).data("id")}).toArray(),t=!$("#reset-pinned-sites").is(":visible")||!e.length;return this.toggleSiteListResetLink(!t),$.ajax({"type":"POST","url":"/topbar/site-switcher/save-pinned-sites","data":{"siteIds":t?[]:e,"fkey":StackExchange.options.user.fkey},"dataType":"html","traditional":!0}).done($.proxy(function(e){$(".my-sites").html(e),this.cancelSiteListEdits(!1),$(".pinned-site-list").data("custom-list",!t),StackExchange.using("gps",function(){StackExchange.gps.track("site_switcher.edit",{})})},this)).fail(function(){$("#save-pinned-sites-btn").parent().showErrorMessage("Something bad happened; please try again")}),!1},"resetPinnedSites":function(){var e=this;return $.ajax({"type":"GET","url":"/topbar/site-switcher/default-active-sites","dataType":"html"}).done(function(t){$(".pinned-site-list").html(t),$("#save-pinned-sites-btn").enable(),e.toggleSiteListResetLink(!1)}).error(function(){$("#reset-pinned-sites").parent().showErrorMessage("Something bad happened; please try again")}),!1},"doSearch":function(e,t,n){var i;t=t.toLowerCase();var o=[];return $.each(e,function(e,n){var i={"index":e,"li":n.li,"item":n},a=n.title.indexOf(t);n.title==t?i.priority=1:0==a?i.priority=2:a>-1?i.priority=3:n.description.indexOf(t)>-1?i.priority=4:n.hostname.indexOf(t)>-1&&(i.priority=5),i.priority&&o.push(i)}),i=o.sort(function(e,t){return e.priority-t.priority||e.index-t.index}),n&&StackExchange.using("gps",function(){StackExchange.gps.track("sitesearch.submit",{"term":t,"numresults":o.length},!1)}),i},"_findSitesToPin":function(e){var t=$(".js-found-sites"),n=this.$pinnedSiteSearchItems;if(t.empty(),""===e)return t.hide(),$("#pin-site-btn").disable(),void 0;if(n=this.doSearch(n,e,!1),n.length){t.show(),$("#pin-site-btn").enable();var i=$(".pinned-site-link").map(function(e,t){return $(t).data("id")}).toArray();$.each(n,function(e,n){var o=$('<li class="pinned-site-candidate">'+n.item.sitename+"</li>");i.indexOf(n.item.siteid)>-1?o.addClass("already-pinned-site"):o.click(function(){var e=$(this).text();return $("#js-site-search-txt").val(e),$(".js-found-sites").hide(),!1}),o.appendTo(t)})}},"findSitesToPin":function(e){if(this.$pinnedSiteSearchItems)return this._findSitesToPin(e),void 0;var t=this;$.ajax({"type":"GET","url":"/topbar/site-switcher/all-pinnable-sites","dataType":"json"}).done(function(n){t.$pinnedSiteSearchItems=n,t._findSitesToPin(e)})},"filterSites":function(e){var t=$(".js-other-sites"),n=this.$searchItems;t.empty(),""!=e&&(n=this.doSearch(n,e,!0)),t.append(n.map(function(e){return this&&this.li||e.li}))},"editPinnedSites":function(){$(".header").not("#your-communities-header").css("opacity",.2),$(".modal-content").not("#your-communities-section").css("opacity",.2),$(".my-sites").hide(),$(".pinned-site-editor-container").show(),$("#edit-pinned-sites").hide(),$("#cancel-pinned-sites").show();var e=$(".pinned-site-list");if(""===e.html().trim()){var t=$("<div/>").append(StackExchange.helpers.getSpinnerImg()).html();e.append('<li style="text-align:center;">'+t+"</li>"),$.ajax({"type":"GET","url":"/topbar/site-switcher/current-pinned-sites","dataType":"html"}).done(function(t){e.html(t)}).fail(function(){e.showErrorMessage("Something bad happened; please try again")}).always(function(){e.find(".ajax-loader").remove()})}if(this.toggleSiteListResetLink("true"===e.data("custom-list").toString().toLowerCase()),!window.jQuery.ui){var n=this;$.getScript("//ajax.googleapis.com/ajax/libs/jqueryui/1.10.0/jquery-ui.min.js",function(){$("<link>").attr({"rel":"stylesheet","type":"text/css","media":"all","href":"//ajax.googleapis.com/ajax/libs/jqueryui/1.10.0/themes/smoothness/jquery-ui.css"}).appendTo("head"),$(".sortable").sortable({"axis":"y","update":function(){$("#save-pinned-sites-btn").enable(),n.toggleSiteListResetLink(!0)}}),$(".sortable").disableSelection()})}return!1},"toggleSiteListResetLink":function(e){$("#reset-pinned-sites").toggle(e)},"cancelSiteListEdits":function(e){return $(".header").not("#your-communities-header").css("opacity",1),$(".modal-content").not("#your-communities-section").css("opacity",1),$(".my-sites").show(),$("#edit-pinned-sites").show(),$(".pinned-site-editor-container").hide(),$("#cancel-pinned-sites").hide(),$("#save-pinned-sites-btn").disable(),e&&($(".pinned-site-list").empty(),$(".js-found-sites").hide(),$("#js-site-search-txt").val(""),$("#pin-site-btn").disable()),!1}}),r=a.extend({"name":"SiteSwitcher","selector":".js-site-switcher-button","dialog":new s,"showsOnMouseOver":!0,"onClass":"icon-site-switcher-on"}),c=o.extend({"url":"/topbar/inbox","cssClass":"inbox-dialog"}),l=a.extend({"name":"Inbox","selector":".js-inbox-button","dialog":new c,"showsOnMouseOver":!0}).methods({"handleRealtimeMessage":function(e){this.setUnreadCount(e.UnreadInboxCount)}}),u=o.extend({"url":"/topbar/achievements","cssClass":"achievements-dialog"}).methods({"afterLoad":function(){this.alignRep(),this.bindDateGroupToggles(),this.displayUtcTime(),this.supr()},"alignRep":function(){var e=this.$dialog.find(".js-items .js-faux-column"),t=0;e.filter(".js-rep-change").each(function(){var e=$.trim($(this).text()).length;e>t&&(t=e)}),t>0&&e.width(6*t)},"bindDateGroupToggles":function(){this.$dialog.find(".js-date-group-toggle").click(function(){var e=$(this),t=e.closest(".js-date-group"),n=t.find(".js-items"),i=t.find(".rep-site-container");e.find(".date-group-toggle").toggleClass("toggle-hidden"),n.add(i).fadeToggle("fast")}),this.$dialog.find(".rep-site-container").on("click",function(e){e.stopImmediatePropagation()})},"displayUtcTime":function(){var e=this.$dialog,t=function(){var t=new Date;t.setTime(t.getTime()+1e3*StackExchange.options.serverTimeOffsetSec);var n=t.getUTCHours(),i=t.getUTCMinutes();10>n&&(n="0"+n),10>i&&(i="0"+i),e.find(".js-utc-time").text(n+":"+i)};t(),setInterval(t,6e4)}}),d=a.extend({"name":"Achievements","selector":".js-achievements-button","dialog":new u,"unreadCountPrefix":"+","showsOnMouseOver":!0}).methods({"handleRealtimeMessage":function(e){var t=0===(e.UnreadRepCount||0)&&e.UnreadNonRepCount>0;t?this.addUnreadClass():this.setUnreadCount(e.UnreadRepCount)}}),h=o.extend({"cssClass":"help-dialog"}).methods({"loadDialog":function(){this.$dialog=$(".js-help-dialog").appendTo(o.$corral),this.positionDialogUnderButton(),this.showOrHide(!0)}}),p=a.extend({"name":"Help","selector":".js-help-button","dialog":new h}),f=o.extend({"url":"/topbar/mod-inbox","cssClass":"modInbox-dialog"}).methods({}),g=a.extend({"name":"ModInbox","selector":".js-mod-inbox-button","dialog":new f}),m=[],v=[];return{"init":function(){window.devicePixelRatio>=1.5&&$(".js-avatar-me").attr("src",function(e,t){return t.replace("?s=24","?s=48")}),m.push(new r),m.push(new l),m.push(new d),m.push(new p),StackExchange.options.user.isModerator&&m.push(new g),$(document).click(function(e){t(e.target)||$.contains(o.$corral[0],e.target)||n()})},"hideAll":n,"handleRealtimeMessage":i}}(),StackExchange.notify=function(){function e(e,t){var n=$("#dismissed-messages");n.val(n.val()+"~"+e+(t?" "+t:"")+"~")}function t(e,t){var n=$("#dismissed-messages").val();return n?new RegExp("~"+e+(t?" "+t:"")+"~").test(n):!1}function n(e,t,n){var i=parseInt($("body").css("margin-top").match(/\d+/)),o=t*i/e;n?$("body:not(.no-message-slide)").animate({"marginTop":o+"px"},"fast","linear"):$("body:not(.no-message-slide)").css("marginTop",o+"px")}var i=0,o=-1,a="m",s=function(t,a){var s=$("#notify-"+t+(a?"-"+a:""));t==o?c():t>o&&$.post("/messages/mark-as-read",{"messagetypeid":t,"id":a?a:null}),e(t,a),i--,s.fadeOut("fast",function(){n(i+1,i,!0),s.remove()})},r=function(e){if(i++,t(e.messageTypeId,e.id))return!1;var n="";e.messageTypeId&&(n=' id="notify-'+e.messageTypeId+(e.id?"-"+e.id:"")+'"');var o="<div"+n+' style="display:none"><span class="notify-close">'+$("<a>&times;</a>").attr("title","dismiss this notification").outerHTML()+'</span><span class="notify-text">'+e.text+"</span>";if(e.showProfile){var a=encodeURIComponent("/users/"+e.userId+"?tab=badges&sort=recent");o+=" "+function(e){return'See your <a href="'+e.url+'">profile</a>.'}({"url":"/messages/mark-as-read?messagetypeid="+e.messageTypeId+"&returnurl="+a})}o+="</div>";var r=$(o);return r.find(".notify-close").click(function(){e.close&&e.close(),s(e.messageTypeId,e.id)}),$("#notify-container").append(r),!0},c=function(e){$.cookie(a,e?e:"0",{"expires":90,"path":"/"})},l=function(){$("#notify-container div").fadeIn("slow")},u=function(){$("body:not(.no-message-slide)").animate({"marginTop":"2.5em"},"fast","linear")},d=function(e,t){var n=$('<div class="link-more">').append($("<a>").text(function(e){return 1==e.numNotifications?"view "+e.numNotifications+" more notification":"view "+e.numNotifications+" more notifications"}({"numNotifications":e})));$("#notify-container").append(n),n.click(function(){n.detach();for(var e=0;e<t.length;e++)r(t[e]);l()})};return{"showMessages":function(e,t){for(var o=0,a=t?2:e.length,s=0;a>s&&s<e.length;s++)r(e[s])&&o++;if(n(i,o,!1),l(),t&&o<e.length){var c=e.slice(a);d(e.length-o,c)}},"show":function(e,t){u(),r({"text":e,"messageTypeId":t}),l()},"close":s,"getMessageText":function(e){return $("#notify-"+e+" .notify-text").text()}}}();var styleCode=function(){function e(e){var t=$("#prettify-lang").text();return""!=t?(e.addClass(t),!0):!1}return function(){"undefined"!=typeof MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub]);var t=!1;if($("pre code").parent().each(function(){$(this).hasClass("prettyprint-override")&&($(this).removeClass("prettyprint-override").addClass("prettyprint"),t=!0),$(this).hasClass("prettyprint")||e($(this))&&($(this).addClass("prettyprint"),t=!0)}),t){if("undefined"!=typeof jtab)return jtab.renderimplicit(),void 0;StackExchange.using("prettify",function(){StackExchange.prettify.applyCodeStyling()})}}}();styleCode.updateLangdivDelayed=StackExchange.helpers.DelayedReaction(function(e){var t=$("#prettify-lang");t.length&&$.get("/api/tags/langdiv",{"tags":e.join(" ")}).done(function(e){e?t.replaceWith(e):t.empty(),StackExchange.MarkdownEditor.refreshAllPreviews(),styleCode()})},1500,{"sliding":!0}),StackExchange.helpers.MagicPopup=function(e){function t(t,i){var a=$("<div id='"+e.id+"'/>").html(i),s=$("<div />").css({"overflow":"hidden","position":"absolute","z-index":1002,"width":1,"height":1,"top":0,"left":0}).append(a).appendTo("body");window.MathJax&&MathJax.Hub.Typeset(a.attr("id"));var r=e.showing(t,a),c={"left":r.left};r.hasOwnProperty("bottom")?(c.bottom=r.bottom,c.top="auto"):c.top=0|r.top;var l;e.shown&&(l=function(){e.shown(t,a)}),s.css(c).animate({"height":a.outerHeight()+8,"width":a.outerWidth()+8},300,l),n=function(){s.stop().remove(),e.removed&&e.removed(t,a),o=null,n=null},o=StackExchange.helpers.DelayedReaction(n,5);var u=s;r.additional&&(u=u.add(r.additional)),u.hover(o.cancel,o.trigger)}var n,i,o,a,s={},r=StackExchange.helpers.DelayedReaction(function(i,o){if(!a&&i){var r;e.cache&&"c_"+i in s?r=$.Deferred().resolve(s["c_"+i]):(r=$.ajax({"type":"GET","url":i,"dataType":"html"}),e.cache&&r.done(function(e){s["c_"+i]=e})),r.done(function(e){n&&n(),""!=e&&t(o,e)})}},500);$(document).delegate(e.selector,{"mouseenter":function(){return o&&this===i?(o.cancel(),void 0):(i=this,r.trigger(e.getUrl(this),this),a=!1,!1)},"mouseleave":function(){a=!0,r.cancel(),o&&o.trigger()}})},StackExchange.tagmenu=function(){function e(e){var t=$(e),n=t.attr("href");if(!n||"/"!=n.charAt(0))return null;var i=t.text();return i.indexOf("*")>-1?null:(t.attr("title",""),"/tags/"+encodeURIComponent(i)+"/subscriber-info")}function t(e,t){var n=$(e),i=n.offset(),o=n.outerHeight(),a={"left":i.left},s=i.top+o,r=i.left+t.outerWidth();t.height()+s>$(window).height()+$(window).scrollTop()?a.bottom=$(window).height()-i.top-8:a.top=s;var c=Math.max(1024,$(window).width());return r>c&&(a.left-=r-c),a}var n,i,o=function(o){n=o,i||(i=!0,StackExchange.options.isMobile||(StackExchange.helpers.MagicPopup({"selector":".post-tag:not(.user-tag,.no-tag-menu)","id":"tag-menu","getUrl":e,"showing":t,"shown":function(e,t){n&&n(t,$(e).text())}}),$("#interesting-tags .post-tag").addClass("user-tag")))};return{"init":o}}(),StackExchange.usermenu=function(){function e(e,t){var n=$(e),i=n.find("img:first"),a=i.offset(),s=i.height(),r=i.width(),c=Math.max(r,s),l=64*s/c,u=64*r/c,d=t.find("img:first").css({"width":u,"height":l}),h=d.offset();d.css("visibility","hidden"),o=i.clone().css({"position":"absolute","zIndex":1003,"left":a.left,"top":a.top,"width":r,"height":s}).appendTo("body");var p=function(){return d[0].complete?(d.css("visibility","visible"),o.fadeOutAndRemove(),void 0):(setTimeout(p,100),void 0)};return o.animate({"width":u,"height":l,"top":a.top+h.top},200,p),t.trigger("userhovershowing",e),{"top":a.top,"left":a.left-h.left,"additional":o}}function t(e,t){t.trigger("userhovershown")}function n(e){$(e).trigger("userhoverremoved"),o.remove()}var i,o,a=function(){function o(e){var t=$(e),n=t.closest(".user-hover"),i=n.find(".user-details a").attr("href"),o=new RegExp("/users/([^/]+).*$"),a=o.exec(i);return a?"/users/user-info/"+a[1]:null}i||(i=!0,StackExchange.options.isMobile||StackExchange.helpers.MagicPopup({"selector":".user-hover .user-gravatar48, .user-hover .user-gravatar32","getUrl":o,"cache":!0,"id":"user-menu","showing":e,"shown":t,"removed":n}))};return{"init":a}}(),StackExchange.chatAd=function(){function e(){var e=$(".question .post-taglist .post-tag");return e.length?e.map(function(e,t){return $(t).text()}).get().join(" "):null}function t(e){return 10>e?"0"+e:e}function n(e){var n=new Date;return n.setTime(1e3*e),[n.getUTCFullYear(),"-",t(n.getUTCMonth()+1),"-",t(n.getUTCDate())," ",t(n.getUTCHours()),":",t(n.getUTCMinutes()),":",t(n.getUTCSeconds()),"Z"].join("")}function i(e){var n=Math.floor((new Date).getTime()/1e3),i=n-e,o=i%60,a=Math.floor(i/60),s=Math.floor(i/3600);if(1>i)return"just now";if(60>i)return function(e){return 1==e.seconds?e.seconds+" sec ago":e.seconds+" secs ago"}({"seconds":o});if(3600>i)return function(e){return 1==e.minutes?e.minutes+" min ago":e.minutes+" mins ago"}({"minutes":a});if(86400>i)return function(e){return 1==e.hours?e.hours+" hour ago":e.hours+" hours ago"}({"hours":s});var r=Math.floor(i/86400);if(1==r)return"yesterday";if(2>=r)return function(e){return e.days+" days ago"}({"days":r});var c=new Date(1e3*e);return function(e){return e.month+" "+e.date+" at "+e.hours+":"+e.minutes}({"month":v[c.getMonth()],"date":c.getDate(),"hours":c.getHours(),"minutes":t(c.getMinutes())})}function o(e){var t=$("<div />");return t.text(e),t.html().replace('"',"&quot;")}function a(){p&&$.get(p,null,function(e,t,n){d(e,t,n)})}function s(e){if("!"==e.charAt(0)){var t=e.substr(1);if(/^https?:\/\/i.stack.imgur.com\//.test(t)){var n=/\?/.test(t)?"&":"?";t+=n+"g&s=32"}return t}return"https://www.gravatar.com/avatar/"+e+"?s=23&d=identicon&r=PG"}function r(e){for(var t=$('<div class="ad502-users" />'),n=0;n<e.length&&7>n;n++){var o=e[n],a=o.name;o.lastPost&&(a+=": "+i(o.lastPost));var r=h+"/users/"+o.id,c=$('<a href="'+r+'" />');$("<img height='23' width='23' />").attr("title",a).attr("src",s(o.emailhash)).appendTo(c),t.append(c)}return t}function c(e){return $('<div class="ad502-users"><img src="'+h+"/rooms/users/"+e+'.jpeg" /></div>')}function l(e){var t=e.user,n=e.userid;return n?'<a href="'+h+"/users/"+n+'">'+o(t)+"</a>":o(t)}function u(){p&&(m>=f&&window.setTimeout(a,1e3*f),f+=g)}function d(e){var t=$("#ad502-rooms");if(e.error)return u(),void 0;t.html("");for(var a=e.rooms,s=0;s<a.length&&2>s;s++){var d=a[s],p=h+"/rooms/"+d.id,f=$('<div class="ad502-room"></div>');f.append($('<h3 class="ad502-room-h3"><span class="ad502-room-title" title="'+o(d.name)+'"><a href="'+p+'">'+o(d.name)+"</a></span></h3>")),d.messages&&d.messages.length>0&&f.append($('<span title="'+n(d.lastPost)+'" class="ad502-last-message">'+i(d.lastPost)+" - "+l(d.messages[0])+"</span><br>")),d.singleImage?f.append(c(d.id)):f.append(r(d.users)),t.append(f)}e.activeUsers>1?$("#h-chat-link").text(function(e){return 1==e.num,e.num+" People Chatting"}({"num":e.activeUsers})):$("#h-chat-link").text("Visit Chat"),$("#h-chat-link").attr("title",function(e){return 1==e.users&&1==e.rooms?e.users+" user active in "+e.rooms+" room the last 60 minutes":1==e.users?e.users+" user active in "+e.rooms+" rooms the last 60 minutes":1==e.rooms?e.users+" users active in "+e.rooms+" room the last 60 minutes":e.users+" users active in "+e.rooms+" rooms the last 60 minutes"}({"users":e.activeUsers,"rooms":e.activeRooms})),u()}var h,p,f=180,g=30,m=480,v=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return/^\/questions\/\d+/i.test(window.location.pathname)&&(m=0),{"init":function(t){if(h=t.chatUrl,p=t.reloadUrl,t.tagBased){var n=e();if(!n)return;p&&(p+=(/\?/.test(p)?"&":"?")+"tags="+encodeURIComponent(n))}null===t.preloadData?a():d(t.preloadData,null,null)}}}(),StackExchange.helpers.noDiacritics=function(){var e={"àåáâäãåąɐᵄᶛ":"a","æǣǽᴂᵆ":"ae","çćčĉ":"c","đƍðÐ":"d","èéêëęǝᴈᵌ":"e","ⅎ":"f","ğĝᵷ":"g","ĥɥʮᶣ":"h","ìíîïıᴉᵎ":"i","ĵ":"j","ʞ":"k","ł":"l","ɯɰᵚᶭᴟ":"m","ñń":"n","òóôõöøő":"o","œɶᴔ":"oe","řɹɺɻʴʵ":"r","śşšŝ":"s","ß":"ss","ʇ":"t","Þ":"th","ùúûüŭů":"u","ʌᶺ":"v","ʍ":"w","ýŸÿʎ":"y","żźž":"z"};return function(t){for(var n in e)e.hasOwnProperty(n)&&(t=t.replace(new RegExp("["+n+"]","g"),e[n]));return t}}(),StackExchange.question=function(){function e(){var e="hashchange.highlightDestination";$(window).off(e).on(e,function(){var e=window.location.href;if(!(e.indexOf("#")<0)){var t=decodeURI(e).match(/#(\d+|comment(\d+)_(\d+))/i);t&&(t[2]?p(t[2],t[3]):h(t[1]))}}).trigger(e)}var t,n,i,o=function(){return $("div.share-tip a[id^='link-post-']")},a=function(e,t){return e?function(e){return"share link to this question on "+e.socialNetwork}({"socialNetwork":t}):function(e){return"share link to this answer on "+e.socialNetwork}({"socialNetwork":t})},s=function(e,t,n,i,o,s){return $("<a>",{"id":"share-"+i+"-"+e,"class":"share-"+i,"title":a(t,n),"text":o,"data-svc":s})},r=function(e,t){var n=null!=e;e||(e=$("div.question div.post-menu a.short-link"));var i=e.closest(".post-menu, .help-menu");if(e.hasClass("share-link"))i.find(".close-share-tip").click();else{e.addClass("share-link");var o=e.attr("id").substring("link-post-".length),a=e.closest(".col-section").length?"section":e.closest("div.question").length?"question":"answer",r=e.closest("div.question").length,c="http://"+document.location.host+e.attr("href"),l=("answer"==a?"Answer:":"")+$("#question-header a").text(),u='<div class="share-tip" style="display:none">'+(r?"share a link to this question":"share a link to this answer")+'<input type="text" style="display:block; width:292px;" value="'+c+'">';StackExchange.options.site.enableSocialMediaInSharePopup&&(u+=$("<div>",{"id":"share-icons"}).append(s(o,r,"Google+","gp","share [g+]",1)).append(s(o,r,"Facebook","fb","share [fb]",2)).append(s(o,r,"Twitter","tw","share [tw]",3)).prop("outerHTML")),StackExchange.gps.track("share.show",{"location":r?1:2}),u+='<a class="close-share-tip" style="float:right">close</a></div>';var d=$(u);if(StackExchange.options.site.enableSocialMediaInSharePopup){var h=encodeURIComponent(c),p=encodeURIComponent(l),f="2";StackExchange.share.gplus($("#share-gp-"+o,d),h,p,f),StackExchange.share.facebook($("#share-fb-"+o,d),h,p,f),StackExchange.share.twitter($("#share-tw-"+o,d),h,p,f),$("#share-icons a",d).click(function(){d.fadeOutAndRemove(),StackExchange.gps.track("share.click",{"location":r?1:2,"service":$(this).data("svc")})})}t&&d.find(".close-share-tip").before('<a id="link-post-'+o+'" style="float:left">cite</a>'),d.appendTo(i).fadeIn(n?"fast":0).bind("removing",function(){e.removeClass("share-link")}).find(".close-share-tip").click(function(){d.fadeOutAndRemove()}).end().find("input[type=text]").select()}},c=function(e){var t=$("#post-form h2:first"),n=t.wrap("<div />").parent(),i=n.wrap("<div />").parent(),o=$("<div />").prependTo(i),a=i.height(),s=$("<div />"),r=$(e),c=parseInt(t.css("margin-bottom")),l=$("#content"),u=$("#wmd-input").outerWidth(),d=1e3,h=l.offset().left>t.offset().left-5&&"visible"!=l.css("overflow-x");s.css({"height":0,"overflowY":"hidden"}).appendTo(n).append(r),i.css({"height":a,"position":"relative"}),n.css({"position":"absolute","bottom":-c,"width":u}),o.addClass("answer-help-background").css({"position":"absolute","bottom":-c,"height":0,"width":u}),h&&(o.css("left",0),n.animate({"paddingLeft":5},d)),s.animate({"height":r.height()+c+10},d),o.animate({"height":r.height()+c+10+a},d),$("<div style='float:right;margin-top:10px;'><a href='#'>ok</a></div>").hide().prependTo(n).fadeIn(1e3).find("a").one("click",function(e){var i=$(this).parent();setTimeout(function(){i.remove()},1),s.animate({"height":0},d,function(){s.add(o).remove(),t.unwrap().unwrap(),t.text("Your Answer")}),o.animate({"height":0},d),h&&n.animate({"paddingLeft":0},d),e.preventDefault()})},l=function(){$.get("/posts/answer-help").then(c)},u=function(){$.get("/posts/answer-ban-warning").then(c).then(function(){var e=$("#post-form h2:first");e.text("WAIT!"),$("#qualityBanWarningShown").val("true")})},d=function(e){var t=e?e.closest(".question"):$(".question"),n=t.data("questionid");if(!n)throw new Error("getQuestionId could not find an id");return n},h=function(e){f($(".answer[data-answerid="+e+"]"))},p=function(e,t){var n="#comment-"+e,i=$(n);i.length?f(i):StackExchange.comments.loadAll($("#comments-link-"+t)).done(function(){f($(n))})},f=function(e){var n=i;e.css({"backgroundColor":t}).animate({"backgroundColor":n},2e3,"linear",function(){$(this).css("background-color","")}),e.is(".comment")&&e[0].scrollIntoView(!0)},g=function(e){e=e||{},$(".post-menu a.short-link").live("click",function(t){return t.ctrlKey||t.metaKey?void 0:(r($(this),e.showCitation),!1)}),$(".bottom-share-links a").live("click",function(){var e=$(this).attr("href"),t=null;e&&e.length&&(e.indexOf("%3fsgp%3d")>=0?t=1:e.indexOf("%3fsfb%3d")>=0?t=2:e.indexOf("%3fstw%3d")>=0?t=3:e.indexOf("%3fsem%3d")>=0&&(t=4)),t&&StackExchange.gps.track("share.click",{"location":3,"service":t},!0)});var t=$(".bottom-notice");t&&t.length&&!t.data("bn")&&t.data("loc")&&t.data("bn","bn").find("a").live("click",function(){var e=0,n=t.data("loc"),i=$(this).attr("href");$(this).hasClass("post-tag")?e=1:/\/ask$/.test(i)?e=2:/\/tags$/.test(i)?e=4:/\/unanswered$/.test(i)?e=5:(/\/questions$/.test(i)||/\/questions[?\/]/.test(i))&&(e=3),StackExchange.gps.track("next_action.click",{"type":e,"location":n},!0)})},m=function(e,t,n){var i,o,a=document.title,s=0;e.attr("autocomplete","off");var r=function(r){var c=e.val();if(!(""==c||c==i&&r!==!0||StackExchange.options.site.newTitleSearchBoxEnabled&&$(".title-float-selected:visible").length>0)){for(var l=c.split(" "),u=0,d=0;d<l.length;d++)$.trim(l[d]).length>0&&u++;var h=(new Date).getTime(),p=(h-s)/1e3;(r===!0||!(3>u||5>p)||e.hasClass("edit-field-overlayed"))&&(s=h,i=c,n&&(document.title=c?c+" - "+n:a),t.empty(),StackExchange.helpers.addSpinner(t),o&&o.fadeOutAndRemove(),$.ajax({"url":"/search/titles","dataType":"json","data":{"title":c},"success":function(e){e&&(StackExchange.ifUsing("postValidation",function(){if(e.notification){var n=StackExchange.postValidation.getSidebarPopupOptions();n.type="info",o=StackExchange.helpers.showMessage(t,e.notification,n)}}),e.content&&(t.html(e.content),setTimeout(function(){t.find(".answer-link a").attr("target","_blank")},1)))},"complete":function(){StackExchange.helpers.removeSpinner(t)}}))}},c=!1;return t.mouseenter(function(){c=!0}).mouseleave(function(){c=!1}),e.keyup(r).blur(function(){var e=function(){s=0,r()};c?t.one("mouseleave",e):e()}),function(e){s=0,r(e)}};return{"initTitleSearch":m,"showShareTip":r,"getQuestionId":d,"initShareLinks":g,"canViewVoteCounts":function(){return n},"init":function(a){n=a.canViewVoteCounts,StackExchange.question.fullInit?StackExchange.question.fullInit(a):StackExchange.question.bindAnonymousVoteDisclaimers(),StackExchange.comments.init({"autoShowCommentHelp":a.autoShowCommentHelp}),g(a),a.showAnswerBanWarning&&$("#wmd-input").one("focus",u),a.showAnswerHelp&&!a.showAnswerBanWarning&&$("#wmd-input").one("focus",l),a.showCitation&&o().live("click",function(){var e=$(this).closest(".post-menu");e.find(".close-share-tip").click(),citation.show($(this))}),i=a.backgroundColor,t=a.highlightColor,e()}}}(),StackExchange.question.bindAnonymousVoteDisclaimers=function(){function e(e){var t=$(this),n=t.closest("div.vote"),i=t.prop("className"),o=/vote-up/.test(i),a=/vote-down/.test(i),s=/star/.test(i),r=t.closest(".answer").length;if(e.preventDefault(),o||a){var c=n.find("input").val();if(StackExchange.options.isMobile){StackExchange.helpers.fireAndForget("/posts/popup/anon-vote/"+c+"?voteTypeId="+(o?2:3));var l="Thank you for your feedback.<br />"+(r?function(e){return"Please "+e.startAnchor+"log in or register"+e.endAnchor+" to vote for this answer."}({"startAnchor":'<a href="/users/login?returnurl='+escape(document.location)+'">',"endAnchor":"</a>"}):function(e){return"Please "+e.startAnchor+"log in or register"+e.endAnchor+" to vote for this question."}({"startAnchor":'<a href="/users/login?returnurl='+escape(document.location)+'">',"endAnchor":"</a>"}));StackExchange.helpers.showMessage(t,l,{"type":"info","position":{"my":"left top","at":"right center"},"css":{"margin-left":"-10px"}})}else{var u="anon-vote-popup-"+c;if(n.is(":working")||$("."+u).length)return;n.data("working",!0),$(".anon-vote-popup").fadeOutAndRemove(),StackExchange.helpers.removeMessages();var d=$('<div class="anon-vote-popup popup">'+function(e){return"Sending feedback"+e.nbsp}({"nbsp":"&nbsp;"})+"</div>").addClass(u).addSpinner();d.appendTo("body").center().fadeIn("fast"),StackExchange.using("gps",function(){StackExchange.gps.track("vote_popup.show")}),$.ajax({"type":"POST","url":"/posts/popup/anon-vote/"+c+"?voteTypeId="+(o?2:3),"dataType":"html","success":function(e){d.html(e)},"error":function(){d.remove()},"complete":function(){n.data("working",!1)}})}}else if(s){$(".anon-vote-popup").fadeOutAndRemove();var l=r?function(e){return"Please "+e.startAnchor+"log in or register"+e.endAnchor+" to favorite this answer."}({"startAnchor":'<a href="/users/login?returnurl='+escape(document.location)+'">',"endAnchor":"</a>"}):function(e){return"Please "+e.startAnchor+"log in or register"+e.endAnchor+" to favorite this question."}({"startAnchor":'<a href="/users/login?returnurl='+escape(document.location)+'">',"endAnchor":"</a>"});StackExchange.helpers.showMessage(t,l,{"type":"info","position":{"my":"left top","at":"right center"},"css":{"margin-left":"-10px"}})}}$(".vote-up-off, .vote-down-off, .star-off:not(.disabled)").each(function(){var t=$(this);t.data("bound-anonymous")||(t.data("bound-anonymous",!0),t.click(e))}),StackExchange.question.bindFetchAcceptedAnswerDates()},StackExchange.question.bindFetchAcceptedAnswerDates=function(){$(".load-accepted-answer-date").hover(function(){var e=$(this);if(!e.is(":working")){e.working(!0);var t=e.closest(".answer").data("answerid");if(!t)return e.attr("title",""),void 0;var n="/posts/"+t+"/accepted-answer-date";$.get(n,function(t){e.attr("title",t)})}})},StackExchange.comments=function(){function e(e,t){this.postId=e,this.jDiv=t,this.jtBody=t.find(" > table > tbody"),this.jCommentsLink=$("#comments-link-"+e)}function t(t){var n=t.constructor===$?t:$(t),i=n.closest(".question, .answer, div[id^='post-']").find(".comments"),o=i.attr("id").replace(/^comments-/,"");if(r[o])return r[o];var a=new e(o,i);return r[o]=a,a}function n(e){var n=$(this),o=n.closest(".question, .answer, div[id^='post-']").find(".comments"),a=o.find(" > table > tbody"),s=0==a.data("remaining-comments-count"),r=n.hasClass("disabled-link"),c=n.data("rep");s&&n.data("anon")&&(StackExchange.options.isMobile?StackExchange.helpers.showMessage(n,function(e){return"Commenting requires an account with "+e.rep+" reputation"}({"rep":c}),{"type":"info","position":{"dimissible":!0,"my":"left top","at":"right center"}}):i(n.attr("id").replace("comments-link-",""))),s&&n.data("reg")&&StackExchange.helpers.showMessage(n,function(e){return 1==e.rep,"You must have "+e.linkStart+e.rep+" reputation"+e.linkEnd+" to comment"}({"rep":c,"linkStart":"<a href='/help/privileges/comment'>","linkEnd":"</a>"}),{"type":"info","position":{"dimissible":!0,"my":"left top","at":"right center"}}),(n.data("anon")||n.data("reg"))&&StackExchange.using("gps",function(){StackExchange.gps.track("comment_popup.show")}),r||(e.preventDefault(),t(this).addShow(!1))}function i(e){var t="anon-vote-popup-"+e;if(!$("."+t).length){$(".anon-vote-popup").fadeOutAndRemove(),StackExchange.helpers.removeMessages();var n=$('<div class="anon-vote-popup popup">'+function(e){return"Loading"+e.nbsp}({"nbsp":"&nbsp;"})+"</div>").addClass(t).addSpinner();n.appendTo("body").center().fadeIn("fast"),$.ajax({"type":"POST","url":"/posts/popup/anon-comment/"+e,"dataType":"html","success":function(e){n.html(e)},"error":function(){n.remove()}})}}function o(e){var t=e&&e.post||document;r={},$(t).off("click","a[id^='comments-link-']",n).on("click","a[id^='comments-link-']",n),t==document&&s()}function a(t){for(var n in t)t.hasOwnProperty(n)&&(e.prototype[n]=t[n])}function s(){if(0!=$(".question[data-questionid]").length){var e=StackExchange.question.getQuestionId();$(".comment .comment-date > span").each(function(){var t=$(this),n=t.closest(".answer"),i=n&&n.length?n.data("answerid"):0,o=t.closest(".comment").attr("id").substr("comment-".length),a=i?i:e,s="#comment"+o+"_"+a;location.href.indexOf("/questions/")>0?t.wrap('<a class="comment-link" href="{hash}"></a>'.formatUnicorn({"hash":s})):t.wrap('<a class="comment-link" href="/q/{pid}/{hash}"></a>'.formatUnicorn({"hash":s,"pid":a}))})}}var r={},c=function(){};return e.prototype={"checkDiscussion":c,"ensureInput":c,"saveEditingComments":c,"restoreEditingComments":c,"commentsShown":function(){this.jtBody.data("remaining-comments-count",0)},"addShow":function(e){var t=this,n=this.loadAllComments().done(function(){t.checkDiscussion()}),i=this.ensureInput();i&&!e&&i.focus(),n.done(function(){i&&i.length>0&&t.jCommentsLink.hide()})},"ajax":function(e,t,n,i){n&&!i&&StackExchange.helpers.addSpinner(n,{"margin-left":"10px"});var o=this;return $.ajax(e).fail(function(e){var a=e.responseText;(!a||a.indexOf("<html")>=0)&&(a=t||"An error occured"),StackExchange.helpers.showErrorMessage(n||o.jDiv,a,{"transient":409==e.status}),n&&!i&&StackExchange.helpers.removeSpinner()}).done(StackExchange.helpers.removeSpinner).promise()},"showComments":function(e,t){if(this.saveEditingComments(t),this.jtBody.html(e),this.restoreEditingComments(),1==this.jDiv.data("localized")){var n=this.jtBody.data("addlink-html");this.jCommentsLink.html($("<div/>").html(n).text()),this.jtBody.data("addlink-disabled")&&!this.jCommentsLink.hasClass("disabled-link")&&this.jCommentsLink.addClass("disabled-link")}else if(this.jCommentsLink=$("#comments-link-"+this.postId),this.jCommentsLink.is(":visible")&&!t){var i=$("#hidden-comments-link-"+this.postId).removeClass("dno").attr("id","comments-link-"+this.postId).show();
i.length&&(this.jCommentsLink.replaceWith(i),this.jCommentsLink=i)}"undefined"!=typeof MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub]),s(),this.commentsShown()},"loadAllComments":function(e,t){this.jDiv.removeClass("dno");var n=0==this.jtBody.data("remaining-comments-count");if(!e&&n)return $.Deferred().resolve().promise();var i=this;return this.ajax({"type":"GET","url":"/posts/"+this.postId+"/comments"+(t||""),"dataType":"html"},"An error occurred while fetching comments").done(function(e){i.showComments(e)}).promise()}},{"init":o,"loadAll":function(e,n){return t(e).loadAllComments(!0,n)},"extendPostUi":a,"uiForPost":t}}(),StackExchange.share=function(){function e(e,t,n){window.open(e,t,n)||(window.location.href=e)}function t(e,t,n){n="undefined"!=typeof n?n:"1",t+="="+n;var i=e.indexOf("?"),o=e.indexOf("#");return-1==i?-1==o?e+"?"+t:e.substring(0,o)+"?"+t+e.substring(o):-1==o?e+"&"+t:e.substring(0,o)+"&"+t+e.substring(o)}return{"gplus":function(n,i,o,a){i=t(i,"sgp",a),n.click(function(){e("https://plus.google.com/share?url="+i,"sharegplus","toolbar=1,status=1,resizable=1,scrollbars=1,width=600,height=500")})},"twitter":function(n,i,o,a){i=t(i,"stw",a),n.click(function(){e("http://twitter.com/share?url="+i+"&ref=twitbtn&text="+o,"sharetwitter","toolbar=1,status=1,resizable=1,scrollbars=1,width=800,height=526")})},"facebook":function(n,i,o,a){i=t(i,"sfb",a),n.click(function(){e("http://www.facebook.com/sharer.php?u="+i+"&ref=fbshare&t="+o,"sharefacebook","toolbar=1,status=1,resizable=1,scrollbars=1,width=626,height=436")})}}}(),$.fn.extend({"postId":function(){var e=this.first();return e.hasClass("answer")&&e.hasClass("question")||(e=e.closest(".answer, .question")),parseInt(e.find(".vote input")[0].value)}}),StackExchange.newsletterAd=function(){function e(e){var t=$('<div id="lightbox-panel" class="popup newsletter-popup" style="display:block"></div>').append($("<div />",{"class":"popup-close"}).append("<a>&times;</a>",{"title":"close this popup (or hit Esc)"})).append(e);$('<div id="lightbox"></div>').appendTo($("body")).css("height",$(document).height()).fadeIn("fast"),t.appendTo($("body")).center().fadeIn("fast").find(".popup-close").click(function(){$("#lightbox, #lightbox-panel").fadeOutAndRemove()})}function t(){var t=StackExchange.options.site.name,n=$(['<div style="text-align: left;">','<h2 style="margin-bottom: 15px;">',function(e){return"Subscribe to the "+e.site+" weekly newsletter"}({"site":t}),"</h2>",'<p><strong><a href="/users/login?returnurl=/newsletter/signup/redirect">',function(e){return"Create an account on "+e.site+e.endAnchor+" or "+e.loginAnchor+"log in"+e.endAnchor+" if you already have one."}({"site":t,"loginAnchor":'<a href="/users/login?returnurl=/newsletter/signup/redirect">',"endAnchor":"</a>"}),"</strong></p>",'<form><label for="newsletter-email-input">',"Or, send newsletter emails to:","</label> ",$("<input>",{"type":"text","id":"newsletter-email-input","maxlength":"100","title":"your email address"}).prop("outerHTML")," ",$("<input>",{"type":"submit","id":"newsletter-email-submit","value":"Subcribe"}).prop("outerHtml"),"</form>",$("#newsletter-ad .privacy-policy-agreement").parent().html(),"</div>"].join(""));n.find("form").submit(function(){var e=$(this),t=e.find("#newsletter-email-input"),n=e.find("#newsletter-email-submit"),i=$.trim(t.val());return 0==i.length?!1:(StackExchange.helpers.addSpinner(e),$.ajax({"url":"/newsletter/signup/anon","type":"POST","dataType":"json","data":{"email":i},"success":function(i){"confirmed"!=i.status||i.error?"unconfirmed"!=i.status||i.error?e.showErrorMessage(i.error||function(e){return"there was a problem signing up for the newsletter"+e.br+"please try again later"}({"br":"<br />"})):(t.attr("disabled",!0),n.replaceWith('<span style="line-height: 120%; text-align: center;"><strong>Subscribed!</strong></span>'),e.append("<br /><br/><p><em>Please click the link in the confirmation email to activate your subscription.</em></p>"),$("#newsletter-signup-container").replaceWith('<span style="line-height: 120%;"><strong>Success!</strong> Please click the link in the confirmation email to activate your subscription.</span>')):(t.attr("disabled",!0),n.replaceWith('<span style="line-height: 120%; text-align: center;"><strong>Subscribed!</strong></span>'),$("#newsletter-signup-container").replaceWith('<div style="line-height: 200%; text-align: center;"><strong>Subscribed!</strong></div>'))},"error":function(){e.showErrorMessage(function(e){return"there was a problem signing up for the newsletter"+e.br+"please try again later"}({"br":"<br />"}))},"complete":function(){StackExchange.helpers.removeSpinner(e)}}),!1)}),e(n)}function n(){$("#newsletter-signup").click(function(){var e=$(this);return StackExchange.options.user.isAnonymous?(t(),!1):(StackExchange.helpers.addSpinner("#newsletter-signup-container"),$.ajax({"url":"/newsletter/signup","type":"POST","dataType":"json","success":function(t){t.url?window.location.href=t.url:"confirmed"==t.status?$("#newsletter-signup-container").replaceWith('<div style="line-height: 200%; text-align: center;"><strong>Subscribed!</strong></div>'):"unconfirmed"==t.status?$("#newsletter-signup-container").replaceWith('<span style="line-height: 120%;"><strong>Success!</strong> Please click the link in the confirmation email to activate your subscription.</span>'):e.parent().showErrorMessage(function(e){return"there was a problem signing up for the newsletter"+e.br+"please try again later"}({"br":"<br />"}))},"error":function(){e.parent().showErrorMessage(function(e){return"there was a problem signing up for the newsletter"+e.br+"please try again later"}({"br":"<br />"}))},"complete":function(){StackExchange.helpers.removeSpinner("#newsletter-signup-container")}}),void 0)}),$("#newsletter-preview").click(function(){var t=$(window).height(),n=Math.min(600,t-100),i=['<div id="newsleter-preview-pane" style="overflow: hidden; width: 660px; height: ',n,'px;">','<iframe src="',$(this).attr("href"),'&suppressPromotion=true" width="660" height="',n,'" frameborder="0"></iframe>',"</div>"].join("");return e(i),!1})}return{"init":n,"loader":function(e,t){var e=t||e,n=$(".newuser-greeting");$.ajax({"url":"/newsletter/targetted/ajax","data":{"domain":e},"success":function(e){$("#newsletter-ad").remove(),n.empty().append($(e))},"complete":function(){n.attr("class","").attr("style","")}}),t||(window.sessionStorage.tNewsletter=e+"-continued")}}}(),function(e,t,n,i){var o=!("selectionStart"in e("<input type='text' />")[0]);e.fn.caret=function(e,a){var s,r,c=this[0];if("object"==typeof e&&"number"==typeof e.start&&"number"==typeof e.end)s=e.start,r=e.end;else if("number"==typeof e&&"number"==typeof a)s=e,r=a;else if("string"==typeof e)(s=c.value.indexOf(e))>-1?r=s+e[t]:s=null;else if("[object RegExp]"===Object.prototype.toString.call(e)){var l=e.exec(c.value);null!=l&&(s=l.index,r=s+l[0][t])}if("undefined"!=typeof s){if(o){var u=this[0].createTextRange();u.collapse(!0),u.moveStart("character",s),u.moveEnd("character",r-s),u.select()}else this[0].selectionStart=s,this[0].selectionEnd=r;return this[0].focus(),this}if(o){var d=document.selection;if("textarea"!=this[0].tagName.toLowerCase()){var h=this.val(),p=d[n]()[i]();p.moveEnd("character",h[t]);var f=""==p.text?h[t]:h.lastIndexOf(p.text);p=d[n]()[i](),p.moveStart("character",-h[t]);var g=p.text[t]}else{var p=d[n](),m=p[i]();m.moveToElementText(this[0]),m.setEndPoint("EndToEnd",p);var f=m.text[t]-p.text[t],g=f+p.text[t]}}else var f=c.selectionStart,g=c.selectionEnd;var v=c.value.substring(f,g);return{"start":f,"end":g,"text":v,"replace":function(e){return c.value.substring(0,f)+e+c.value.substring(g,c.value[t])}}}}(jQuery,"length","createRange","duplicate"),StackExchange.captcha=function(){function e(e,t){function n(){$("#lightbox, #lightbox-panel").fadeOutAndRemove()}var i=$(['<div id="lightbox-panel" class="popup captcha-popup" style="display: block; text-align: left;">','<div class="popup-close">',$("<a>",{"title":"close this popup (or hit Esc)","text":"×"}).prop("outerHTML"),"</div>",e,"</div>"].join("")),o=i.find("form:first");$('<div id="lightbox"></div>').appendTo($("body")).css("height",$(document).height()).fadeIn("fast"),i.appendTo($("body")).center().fadeIn("fast").find(".popup-close").click(n),$.getScript("https://www.google.com/recaptcha/api/js/recaptcha_ajax.js",function(){Recaptcha.create(StackExchange.options.site.recaptchaPublicKey,"recaptcha",{"theme":"clean","lang":StackExchange.options.site.recaptchaAudioLang,"custom_translations":{"visual_challenge":"Get a visual challenge","audio_challenge":"Get an audio challenge","refresh_btn":"Get a new challenge","instructions_visual":"Type the text:","instructions_audio":"Type what you hear:","help_btn":"Help","play_again":"Play sound again","cant_hear_this":"Download sound as MP3","incorrect_try_again":"Incorrect. Try again.","image_alt_text":"reCAPTCHA challenge image","privacy_and_terms":"Privacy & Terms"},"callback":Recaptcha.focus_response_field}),StackExchange.helpers.enableSubmitButton(o),o.submit(function(){return StackExchange.helpers.disableSubmitButton(o),o.find('input[type="submit"]').addSpinnerAfter(),$.ajax({"url":"/captcha","type":"POST","dataType":"json","data":o.serialize(),"success":function(e){e.captchaError?(StackExchange.helpers.removeSpinner(),StackExchange.helpers.enableSubmitButton(o),o.find(".form-error").html(e.captchaError),Recaptcha.reload()):(n(),t(e))},"error":function(){StackExchange.helpers.removeSpinner(),StackExchange.helpers.enableSubmitButton(o),StackExchange.helpers.showErrorMessage(o,"An error occurred submitting the CAPTCHA")}}),!1})})}return{"init":e}}(),StackExchange.gps=function(){function e(e){return g?!0:(g=!0,e&&t()?(c(),a(),n(".tagged-questions-page, .questions-page, .tags-page",".js-gps-related-tags .post-tag","related_tags.click",", item_type:1"),n(".question-page",".js-gps-related-questions .spacer","related_questions.click"),n(".question-page .post-taglist",".post-tag","question_tags.click",", location:1"),n(".question-page #sidebar .tagged",".post-tag","question_tags.click",", location:2"),i(),!0):(StackExchange.gps.track=function(e,t,n,i){i&&i()},delete StackExchange._gps_track,!1))}function t(){if(!window.localStorage)return!1;try{if(window.localStorage["gps-probe"]="1","1"!=window.localStorage["gps-probe"])return!1;window.localStorage.removeItem("gps-probe")}catch(e){return!1}return!0}function n(e,t,n,i){$(e).find(t).each(function(e){$(this).addClass("js-gps-track").data("gps-track",n+"({ position:"+(e+1)+i+" })")})}function i(e){$(e||document).find(".js-gps-track").off("click.gps").one("click.gps",function(){var e=$.trim($(this).data("gps-track"));if(e)for(var t=o(e),n=0;n<t.length;n++){var i=t[n];s(i[0],i[1],!0)}})}function o(e){for(var t=[],n=e.match(/([a-z._]+)(\([^)]+\))?/gi),i=0;i<n.length;i++){var o=n[i];if(o.indexOf("{")<0)t.push([o,{}]);else{for(var a=o.match(/([a-z._]+)\s*\(\s*\{([^}]+)\}\s*\)/i),s=a[1],r=$.trim(a[2]),c=r.match(/[^,]+/gi),l={},u=0;u<c.length;u++){var d=c[u],h=d.indexOf(":"),p=$.trim(d.substr(0,h)),f=$.trim(d.substr(h+1)),g=parseInt(f);l[p]=0/0!=g?g:f}t.push([s,l])}}return t}function a(e){var t=l();if(t.length>0){for(var n=(new Date).getTime(),i=[],o=0;o<t.length&&i.length<20;o++){var a=t[o],s=n-a.now;0>s||s>36e5?d(a):i.push(a)}i.length>0?h(i,e):e&&e()}}function s(e,t,n,i){var o={"evt":e,"properties":t||{},"now":(new Date).getTime()};u(o),navigator&&navigator.sendBeacon&&(n=!1),n?i&&i():a(i)}function r(e){e&&StackExchange.options&&StackExchange.options.user&&(e.properties&&!e.properties.user_type&&(e.properties.user_type=StackExchange.options.user.user_type),!e.ab&&StackExchange.options.user.ab&&(e.ab=StackExchange.options.user.ab))}function c(){StackExchange._gps_track&&($.each(StackExchange._gps_track,function(e,t){u(t)}),delete StackExchange._gps_track)}function l(){var e=localStorage[f];return e?JSON.parse(e):[]}function u(e){r(e);var t,n=localStorage[f];if(n){var i=JSON.parse(n);i.push(e),t=JSON.stringify(i)}else t=JSON.stringify([e]);p("addToPending "+JSON.stringify(e)),localStorage[f]=t}function d(e){var t=localStorage[f];if(t){for(var n=JSON.parse(t),i=JSON.stringify(e),o=-1,a=0;a<n.length;a++){var s=JSON.stringify(n[a]);if(i==s){o=a;break}}if(-1!=o)return n.splice(o,1),0==n.length?(localStorage.removeItem(f),void 0):(localStorage[f]=JSON.stringify(n),void 0)}}function h(e,t){$.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var i=JSON.stringify(e[n]);m[i]&&(e.splice(n,1),n--)}for(var n=0;n<e.length;n++){var i=JSON.stringify(e[n]);m[i]=!0}var o=JSON.stringify(e);if(navigator&&navigator.sendBeacon)try{if(p("sending (beacon): "+o),navigator&&navigator.sendBeacon("/gps/event",o)){for(var n=0;n<e.length;n++){d(e[n]);var i=JSON.stringify(e[n]);delete m[i]}return t&&t(),void 0}}catch(a){p(a)}p("sending (AJAX): "+o),$.ajax({"type":"POST","url":"/gps/event","data":o,"success":function(){for(var t=0;t<e.length;t++)d(e[t])},"complete":function(){for(var n=0;n<e.length;n++){var i=JSON.stringify(e[n]);delete m[i]}t&&t()}})}function p(e){StackExchange.options.enableLogging&&console.log("gps: "+e)}var f="gps-pending",g=!1,m={};return{"init":e,"track":s,"sendPending":a,"bindTrackClicks":i}}(),StackExchange.openid=function(){function e(e){e&&StackExchange.gps.track("openid.click",{"openid_provider":e,"location":l},!0),StackExchange.gps.track("signup.start",{"location":"question_page"},!0)}function t(t,n){var u=decodeURIComponent(n);0===u.indexOf("/questions/")&&(l="question_page"),"/questions/ask"===u&&(l="question_ask");var d=$(t),h=d.find(".new-login-left"),p=d.find(".new-login-right"),f=h.find(".show-more-options");f.click(function(){return f.hide(),p.show(),!1});var g=p.find(".hide-more-options");g.click(function(){return f.show(),p.hide(),!1}),d.removeClass("dno"),i(d,p);var m=h.find(".google-login");StackExchange.options.site.useGoogleOAuth2?m.click(function(){e("Google"),s(d)}):m.click(function(){e("Google"),o(d,"google")});var v=h.find(".facebook-login");v.click(function(){e("Facebook"),a(d)});var b=h.find(".stackexchange-login");b.click(r(function(){e("Stack Exchange"),StackExchange.navPrevention.stop(),window.location="/users/signup?returnUrl="+encodeURIComponent(u)})),d.find(".submit-openid").click(function(){c(d,u)})}function n(t,n,i,r,u){var d=decodeURIComponent(n);l=i;var h=t.find(".google-login");StackExchange.options.site.useGoogleOAuth2?h.click(function(){e("Google"),s(t)}):h.click(function(){e("Google"),o(t,"google")});var p=t.find(".facebook-login");p.click(function(){e("Facebook"),a(t)});var f=t.find(".stackexchange-login");f.click(function(){e("Stack Exchange"),window.location="/users/signup?returnUrl="+encodeURIComponent(d)}),t.find(".submit-openid").click(function(){c(t,d,r,u)})}function i(e,t){var n=t.find(".option-extra-fields");n.hide();var i=t.find(".yahoo-button");i.click(function(){n.hide(),o(e,"yahoo")});var a=function(i){var a="."+i+"-option";n.show(),n.find("> div:not("+a+")").hide(),n.find(a+", .extra-field-container").show(),t.find(".extra-field").val("").focus();var s=t.find(".extra-field-submit");s.unbind("click"),s.click(function(){o(e,i,t.find(".extra-field").val())})},s=t.find(".blogger-button");s.click(function(){a("blogger")});var r=t.find(".aol-button");r.click(function(){a("aol")})}function o(e,t,n){var i=u[t];n&&(i=i.replace("{username}",n)),e.find(".use-facebook").val("false"),e.find(".use-google-oauth2").val("false"),e.find(".manual-openid").val(i),e.find(".submit-openid").click()}function a(e){e.find(".use-facebook").val("true"),e.find(".use-google-oauth2").val("false"),e.find(".manual-openid").val(""),e.find(".submit-openid").click()}function s(e){e.find(".use-google-oauth2").val("true"),e.find(".use-facebook").val("false"),e.find(".manual-openid").val(""),e.find(".submit-openid").click()}function r(e){return function(){StackExchange.using("editor",function(){StackExchange.cardiologist.ensureDraftSaved(e)})}}function c(e,t,n,i){var o=e.find(".manual-openid").val(),a=e.find(".use-facebook").val(),s=e.find(".use-google-oauth2").val();r(function(){var e=!!StackExchange.options.site.isChildMeta,r=(e?StackExchange.options.site.parentUrl:"")+"/users/authenticate?returnurl="+encodeURIComponent(t),c=$('<form method="post" action="'+r+'"></form>');if(o){var l=$('<input type="hidden" name="openid_identifier" />');c.append(l),l.val(o)}else{var u=$('<input type="hidden" name="oauth_version" />'),d=$('<input type="hidden" name="oauth_server" />');c.append(u),c.append(d),u.val("2.0"),a&&d.val("https://www.facebook.com/dialog/oauth"),s&&d.val("https://accounts.google.com/o/oauth2/auth")}c.append("<input type='hidden' name='fkey' value='"+StackExchange.options.user.fkey+"' />"),n&&i&&($('<input type="hidden" name="anon_vote_type" />').val(n).appendTo(c),$('<input type="hidden" name="anon_vote_hash" />').val(i).appendTo(c)),StackExchange.navPrevention.stop(),c.hide().appendTo("body").submit()})()}var l="unknown",u={"yahoo":"http://yahoo.com/","google":"https://www.google.com/accounts/o8/id","aol":"http://openid.aol.com/{username}","blogger":"http://{username}.blogspot.com/"};return{"initPostLogin":t,"initAnonPopup":n}}();